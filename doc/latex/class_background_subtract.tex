\hypertarget{class_background_subtract}{}\section{Background\+Subtract Class Reference}
\label{class_background_subtract}\index{Background\+Subtract@{Background\+Subtract}}


The \mbox{\hyperlink{class_background_subtract}{Background\+Subtract}} class.  




{\ttfamily \#include $<$Background\+Subtract.\+h$>$}



Collaboration diagram for Background\+Subtract\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=206pt]{class_background_subtract__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949f}{B\+G\+F\+G\+\_\+\+A\+L\+GS}} \{ \newline
\mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa1905f812773a0029b59688e57990f172}{A\+L\+G\+\_\+\+V\+I\+BE}}, 
\mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa6ce3f5db7dc79642df7c113be3a28d14}{A\+L\+G\+\_\+\+M\+OG}}, 
\mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa3d46f57cfb0a9b1b5b037b387a35f652}{A\+L\+G\+\_\+\+G\+MG}}, 
\mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa4e734ae21b8add9022427f8da9469cfb}{A\+L\+G\+\_\+\+C\+NT}}, 
\newline
\mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa0a4e184ec94bca58e58dd4226f1b1f7f}{A\+L\+G\+\_\+\+Su\+B\+S\+E\+N\+SE}}, 
\mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fae4cc76d1ae01949bc7e6be6ed046ddaf}{A\+L\+G\+\_\+\+L\+O\+B\+S\+T\+ER}}, 
\mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa35994e745da8eb824d3808ee50ad3ebf}{A\+L\+G\+\_\+\+M\+O\+G2}}
 \}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_background_subtract_a0b5096a3823c7af66b6d22cdd36e8fda}{Background\+Subtract}} (\mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949f}{B\+G\+F\+G\+\_\+\+A\+L\+GS}} alg\+Type, int channels)
\item 
\mbox{\hyperlink{class_background_subtract_ac811f4c717052b81d1e0bd633d265423}{$\sim$\+Background\+Subtract}} ()
\item 
bool \mbox{\hyperlink{class_background_subtract_a9dacb4cc5cf41c4a37cc776a8142aecc}{Init}} (const \mbox{\hyperlink{defines_8h_a81d657237a541d02f8eeefdd40191920}{config\+\_\+t}} \&config)
\item 
void \mbox{\hyperlink{class_background_subtract_a1cd989730164da1c2523975d2ed32147}{Subtract}} (const cv\+::\+U\+Mat \&image, cv\+::\+U\+Mat \&foreground)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{class_background_subtract_a676897a571788e0fee84d568bc68caf0}{m\+\_\+channels}}
\item 
\mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949f}{B\+G\+F\+G\+\_\+\+A\+L\+GS}} \mbox{\hyperlink{class_background_subtract_a3d569052b6954fa87f04a0aa8a970f97}{m\+\_\+alg\+Type}}
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classvibe_1_1_v_i_b_e}{vibe\+::\+V\+I\+BE}} $>$ \mbox{\hyperlink{class_background_subtract_a57c251abeed9a2c73a3c97d0f7f8b527}{m\+\_\+model\+Vibe}}
\item 
cv\+::\+Ptr$<$ cv\+::\+Background\+Subtractor $>$ \mbox{\hyperlink{class_background_subtract_a80782a38138a430437095f625603e599}{m\+\_\+model\+O\+CV}}
\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{class_background_subtractor_l_b_s_p}{Background\+Subtractor\+L\+B\+SP}} $>$ \mbox{\hyperlink{class_background_subtract_a56275963c8cacca97b97d0cde884f4c1}{m\+\_\+model\+Su\+B\+S\+E\+N\+SE}}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
The \mbox{\hyperlink{class_background_subtract}{Background\+Subtract}} class. 

Definition at line 15 of file Background\+Subtract.\+h.



\subsection{Member Enumeration Documentation}
\mbox{\Hypertarget{class_background_subtract_a56850081696df68b55f87b4f3d87949f}\label{class_background_subtract_a56850081696df68b55f87b4f3d87949f}} 
\index{Background\+Subtract@{Background\+Subtract}!B\+G\+F\+G\+\_\+\+A\+L\+GS@{B\+G\+F\+G\+\_\+\+A\+L\+GS}}
\index{B\+G\+F\+G\+\_\+\+A\+L\+GS@{B\+G\+F\+G\+\_\+\+A\+L\+GS}!Background\+Subtract@{Background\+Subtract}}
\subsubsection{\texorpdfstring{B\+G\+F\+G\+\_\+\+A\+L\+GS}{BGFG\_ALGS}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949f}{Background\+Subtract\+::\+B\+G\+F\+G\+\_\+\+A\+L\+GS}}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{A\+L\+G\+\_\+\+V\+I\+BE@{A\+L\+G\+\_\+\+V\+I\+BE}!Background\+Subtract@{Background\+Subtract}}\index{Background\+Subtract@{Background\+Subtract}!A\+L\+G\+\_\+\+V\+I\+BE@{A\+L\+G\+\_\+\+V\+I\+BE}}}\mbox{\Hypertarget{class_background_subtract_a56850081696df68b55f87b4f3d87949fa1905f812773a0029b59688e57990f172}\label{class_background_subtract_a56850081696df68b55f87b4f3d87949fa1905f812773a0029b59688e57990f172}} 
A\+L\+G\+\_\+\+V\+I\+BE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{A\+L\+G\+\_\+\+M\+OG@{A\+L\+G\+\_\+\+M\+OG}!Background\+Subtract@{Background\+Subtract}}\index{Background\+Subtract@{Background\+Subtract}!A\+L\+G\+\_\+\+M\+OG@{A\+L\+G\+\_\+\+M\+OG}}}\mbox{\Hypertarget{class_background_subtract_a56850081696df68b55f87b4f3d87949fa6ce3f5db7dc79642df7c113be3a28d14}\label{class_background_subtract_a56850081696df68b55f87b4f3d87949fa6ce3f5db7dc79642df7c113be3a28d14}} 
A\+L\+G\+\_\+\+M\+OG&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{A\+L\+G\+\_\+\+G\+MG@{A\+L\+G\+\_\+\+G\+MG}!Background\+Subtract@{Background\+Subtract}}\index{Background\+Subtract@{Background\+Subtract}!A\+L\+G\+\_\+\+G\+MG@{A\+L\+G\+\_\+\+G\+MG}}}\mbox{\Hypertarget{class_background_subtract_a56850081696df68b55f87b4f3d87949fa3d46f57cfb0a9b1b5b037b387a35f652}\label{class_background_subtract_a56850081696df68b55f87b4f3d87949fa3d46f57cfb0a9b1b5b037b387a35f652}} 
A\+L\+G\+\_\+\+G\+MG&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{A\+L\+G\+\_\+\+C\+NT@{A\+L\+G\+\_\+\+C\+NT}!Background\+Subtract@{Background\+Subtract}}\index{Background\+Subtract@{Background\+Subtract}!A\+L\+G\+\_\+\+C\+NT@{A\+L\+G\+\_\+\+C\+NT}}}\mbox{\Hypertarget{class_background_subtract_a56850081696df68b55f87b4f3d87949fa4e734ae21b8add9022427f8da9469cfb}\label{class_background_subtract_a56850081696df68b55f87b4f3d87949fa4e734ae21b8add9022427f8da9469cfb}} 
A\+L\+G\+\_\+\+C\+NT&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{A\+L\+G\+\_\+\+Su\+B\+S\+E\+N\+SE@{A\+L\+G\+\_\+\+Su\+B\+S\+E\+N\+SE}!Background\+Subtract@{Background\+Subtract}}\index{Background\+Subtract@{Background\+Subtract}!A\+L\+G\+\_\+\+Su\+B\+S\+E\+N\+SE@{A\+L\+G\+\_\+\+Su\+B\+S\+E\+N\+SE}}}\mbox{\Hypertarget{class_background_subtract_a56850081696df68b55f87b4f3d87949fa0a4e184ec94bca58e58dd4226f1b1f7f}\label{class_background_subtract_a56850081696df68b55f87b4f3d87949fa0a4e184ec94bca58e58dd4226f1b1f7f}} 
A\+L\+G\+\_\+\+Su\+B\+S\+E\+N\+SE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{A\+L\+G\+\_\+\+L\+O\+B\+S\+T\+ER@{A\+L\+G\+\_\+\+L\+O\+B\+S\+T\+ER}!Background\+Subtract@{Background\+Subtract}}\index{Background\+Subtract@{Background\+Subtract}!A\+L\+G\+\_\+\+L\+O\+B\+S\+T\+ER@{A\+L\+G\+\_\+\+L\+O\+B\+S\+T\+ER}}}\mbox{\Hypertarget{class_background_subtract_a56850081696df68b55f87b4f3d87949fae4cc76d1ae01949bc7e6be6ed046ddaf}\label{class_background_subtract_a56850081696df68b55f87b4f3d87949fae4cc76d1ae01949bc7e6be6ed046ddaf}} 
A\+L\+G\+\_\+\+L\+O\+B\+S\+T\+ER&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{A\+L\+G\+\_\+\+M\+O\+G2@{A\+L\+G\+\_\+\+M\+O\+G2}!Background\+Subtract@{Background\+Subtract}}\index{Background\+Subtract@{Background\+Subtract}!A\+L\+G\+\_\+\+M\+O\+G2@{A\+L\+G\+\_\+\+M\+O\+G2}}}\mbox{\Hypertarget{class_background_subtract_a56850081696df68b55f87b4f3d87949fa35994e745da8eb824d3808ee50ad3ebf}\label{class_background_subtract_a56850081696df68b55f87b4f3d87949fa35994e745da8eb824d3808ee50ad3ebf}} 
A\+L\+G\+\_\+\+M\+O\+G2&\\
\hline

\end{DoxyEnumFields}


Definition at line 18 of file Background\+Subtract.\+h.


\begin{DoxyCode}
19     \{
20         \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa1905f812773a0029b59688e57990f172}{ALG\_VIBE}},
21         \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa6ce3f5db7dc79642df7c113be3a28d14}{ALG\_MOG}},
22         \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa3d46f57cfb0a9b1b5b037b387a35f652}{ALG\_GMG}},
23         \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa4e734ae21b8add9022427f8da9469cfb}{ALG\_CNT}},
24         \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa0a4e184ec94bca58e58dd4226f1b1f7f}{ALG\_SuBSENSE}},
25         \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fae4cc76d1ae01949bc7e6be6ed046ddaf}{ALG\_LOBSTER}},
26         \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa35994e745da8eb824d3808ee50ad3ebf}{ALG\_MOG2}}
27     \};
\end{DoxyCode}


\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_background_subtract_a0b5096a3823c7af66b6d22cdd36e8fda}\label{class_background_subtract_a0b5096a3823c7af66b6d22cdd36e8fda}} 
\index{Background\+Subtract@{Background\+Subtract}!Background\+Subtract@{Background\+Subtract}}
\index{Background\+Subtract@{Background\+Subtract}!Background\+Subtract@{Background\+Subtract}}
\subsubsection{\texorpdfstring{Background\+Subtract()}{BackgroundSubtract()}}
{\footnotesize\ttfamily Background\+Subtract\+::\+Background\+Subtract (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949f}{B\+G\+F\+G\+\_\+\+A\+L\+GS}}}]{alg\+Type,  }\item[{int}]{channels }\end{DoxyParamCaption})}



Definition at line 7 of file Background\+Subtract.\+cpp.


\begin{DoxyCode}
8     :
9       \mbox{\hyperlink{class_background_subtract_a676897a571788e0fee84d568bc68caf0}{m\_channels}}(channels),
10       \mbox{\hyperlink{class_background_subtract_a3d569052b6954fa87f04a0aa8a970f97}{m\_algType}}(algType)
11 \{
12     \mbox{\hyperlink{defines_8h_a81d657237a541d02f8eeefdd40191920}{config\_t}} config;
13     \mbox{\hyperlink{class_background_subtract_a9dacb4cc5cf41c4a37cc776a8142aecc}{Init}}(config);
14 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=332pt]{class_background_subtract_a0b5096a3823c7af66b6d22cdd36e8fda_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_background_subtract_ac811f4c717052b81d1e0bd633d265423}\label{class_background_subtract_ac811f4c717052b81d1e0bd633d265423}} 
\index{Background\+Subtract@{Background\+Subtract}!````~Background\+Subtract@{$\sim$\+Background\+Subtract}}
\index{````~Background\+Subtract@{$\sim$\+Background\+Subtract}!Background\+Subtract@{Background\+Subtract}}
\subsubsection{\texorpdfstring{$\sim$\+Background\+Subtract()}{~BackgroundSubtract()}}
{\footnotesize\ttfamily Background\+Subtract\+::$\sim$\+Background\+Subtract (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 19 of file Background\+Subtract.\+cpp.


\begin{DoxyCode}
20 \{
21 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_background_subtract_a9dacb4cc5cf41c4a37cc776a8142aecc}\label{class_background_subtract_a9dacb4cc5cf41c4a37cc776a8142aecc}} 
\index{Background\+Subtract@{Background\+Subtract}!Init@{Init}}
\index{Init@{Init}!Background\+Subtract@{Background\+Subtract}}
\subsubsection{\texorpdfstring{Init()}{Init()}}
{\footnotesize\ttfamily bool Background\+Subtract\+::\+Init (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{defines_8h_a81d657237a541d02f8eeefdd40191920}{config\+\_\+t}} \&}]{config }\end{DoxyParamCaption})}



Definition at line 26 of file Background\+Subtract.\+cpp.


\begin{DoxyCode}
27 \{
28     \textcolor{keywordtype}{bool} failed = \textcolor{keyword}{true};
29     \textcolor{keywordflow}{for} (; failed;)
30     \{
31         failed = \textcolor{keyword}{false};
32 
33         \textcolor{keywordflow}{switch} (\mbox{\hyperlink{class_background_subtract_a3d569052b6954fa87f04a0aa8a970f97}{m\_algType}})
34         \{
35         \textcolor{keywordflow}{case} \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa1905f812773a0029b59688e57990f172}{ALG\_VIBE}}:
36         \{
37             std::vector<std::string> paramsConf = \{ \textcolor{stringliteral}{"samples"}, \textcolor{stringliteral}{"pixelNeighbor"}, \textcolor{stringliteral}{"distanceThreshold"}, \textcolor{stringliteral}{"
      matchingThreshold"}, \textcolor{stringliteral}{"updateFactor"} \};
38             std::vector<int> params = \{ 20, 1, 20, 3, 16 \};
39             assert(paramsConf.size() == params.size());
40 
41             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < paramsConf.size(); ++i)
42             \{
43                 \textcolor{keyword}{auto} conf = config.find(paramsConf[i]);
44                 \textcolor{keywordflow}{if} (conf != config.end())
45                 \{
46                     params[i] = std::stoi(conf->second);
47                 \}
48             \}
49 
50             \mbox{\hyperlink{class_background_subtract_a57c251abeed9a2c73a3c97d0f7f8b527}{m\_modelVibe}} = std::make\_unique<vibe::VIBE>(\mbox{\hyperlink{class_background_subtract_a676897a571788e0fee84d568bc68caf0}{m\_channels}}, params[0], params[1
      ], params[2], params[3], params[4]);
51             \textcolor{keywordflow}{break};
52         \}
53 
54 \textcolor{preprocessor}{#ifdef USE\_OCV\_BGFG}
55         \textcolor{keywordflow}{case} \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa6ce3f5db7dc79642df7c113be3a28d14}{ALG\_MOG}}:
56         \{
57             std::vector<std::string> paramsConf = \{ \textcolor{stringliteral}{"history"}, \textcolor{stringliteral}{"nmixtures"}, \textcolor{stringliteral}{"backgroundRatio"}, \textcolor{stringliteral}{"noiseSigma"}
       \};
58             \textcolor{keyword}{auto} params = std::make\_tuple(100, 3, 0.7, 0);
59 
60             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < paramsConf.size(); ++i)
61             \{
62                 \textcolor{keyword}{auto} conf = config.find(paramsConf[i]);
63                 \textcolor{keywordflow}{if} (conf != config.end())
64                 \{
65                     std::stringstream ss(conf->second);
66 
67                     \textcolor{keywordflow}{switch} (i)
68                     \{
69                     \textcolor{keywordflow}{case} 0:
70                         ss >> std::get<0>(params);
71                         \textcolor{keywordflow}{break};
72                     \textcolor{keywordflow}{case} 1:
73                         ss >> std::get<1>(params);
74                         \textcolor{keywordflow}{break};
75                     \textcolor{keywordflow}{case} 2:
76                         ss >> std::get<2>(params);
77                         \textcolor{keywordflow}{break};
78                     \textcolor{keywordflow}{case} 3:
79                         ss >> std::get<3>(params);
80                         \textcolor{keywordflow}{break};
81                     \}
82                 \}
83             \}
84 
85             \mbox{\hyperlink{class_background_subtract_a80782a38138a430437095f625603e599}{m\_modelOCV}} = cv::bgsegm::createBackgroundSubtractorMOG(std::get<0>(params), 
      std::get<1>(params), std::get<2>(params), std::get<3>(params));
86             \textcolor{keywordflow}{break};
87         \}
88 
89         \textcolor{keywordflow}{case} \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa3d46f57cfb0a9b1b5b037b387a35f652}{ALG\_GMG}}:
90         \{
91             std::vector<std::string> paramsConf = \{ \textcolor{stringliteral}{"initializationFrames"}, \textcolor{stringliteral}{"decisionThreshold"} \};
92             \textcolor{keyword}{auto} params = std::make\_tuple(50, 0.7);
93 
94             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < paramsConf.size(); ++i)
95             \{
96                 \textcolor{keyword}{auto} conf = config.find(paramsConf[i]);
97                 \textcolor{keywordflow}{if} (conf != config.end())
98                 \{
99                     std::stringstream ss(conf->second);
100 
101                     \textcolor{keywordflow}{switch} (i)
102                     \{
103                     \textcolor{keywordflow}{case} 0:
104                         ss >> std::get<0>(params);
105                         \textcolor{keywordflow}{break};
106                     \textcolor{keywordflow}{case} 1:
107                         ss >> std::get<1>(params);
108                         \textcolor{keywordflow}{break};
109                     \}
110                 \}
111             \}
112 
113             \mbox{\hyperlink{class_background_subtract_a80782a38138a430437095f625603e599}{m\_modelOCV}} = cv::bgsegm::createBackgroundSubtractorGMG(std::get<0>(params), 
      std::get<1>(params));
114             \textcolor{keywordflow}{break};
115         \}
116 
117         \textcolor{keywordflow}{case} \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa4e734ae21b8add9022427f8da9469cfb}{ALG\_CNT}}:
118         \{
119 \textcolor{preprocessor}{#if (((CV\_VERSION\_MAJOR == 3) && (CV\_VERSION\_MINOR >= 2)) || (CV\_VERSION\_MAJOR > 3))}
120             std::vector<std::string> paramsConf = \{ \textcolor{stringliteral}{"minPixelStability"}, \textcolor{stringliteral}{"useHistory"}, \textcolor{stringliteral}{"maxPixelStability"},
       \textcolor{stringliteral}{"isParallel"} \};
121             \textcolor{keyword}{auto} params = std::make\_tuple(15, 1, 15 * 60, 1);
122 
123             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < paramsConf.size(); ++i)
124             \{
125                 \textcolor{keyword}{auto} conf = config.find(paramsConf[i]);
126                 \textcolor{keywordflow}{if} (conf != config.end())
127                 \{
128                     std::stringstream ss(conf->second);
129 
130                     \textcolor{keywordflow}{switch} (i)
131                     \{
132                     \textcolor{keywordflow}{case} 0:
133                         ss >> std::get<0>(params);
134                         \textcolor{keywordflow}{break};
135                     \textcolor{keywordflow}{case} 1:
136                         ss >> std::get<1>(params);
137                         \textcolor{keywordflow}{break};
138                     \textcolor{keywordflow}{case} 2:
139                         ss >> std::get<2>(params);
140                         \textcolor{keywordflow}{break};
141                     \textcolor{keywordflow}{case} 3:
142                         ss >> std::get<3>(params);
143                         \textcolor{keywordflow}{break};
144                     \}
145                 \}
146             \}
147 
148             \mbox{\hyperlink{class_background_subtract_a80782a38138a430437095f625603e599}{m\_modelOCV}} = cv::bgsegm::createBackgroundSubtractorCNT(std::get<0>(params), 
      std::get<1>(params) != 0, std::get<2>(params), std::get<3>(params) != 0);
149 \textcolor{preprocessor}{#else}
150             std::cerr << \textcolor{stringliteral}{"OpenCV CNT algorithm is not implemented! Used Vibe by default."} << std::endl;
151             failed = \textcolor{keyword}{true};
152 \textcolor{preprocessor}{#endif}
153             \textcolor{keywordflow}{break};
154         \}
155 
156 \textcolor{preprocessor}{#else}
157         \textcolor{keywordflow}{case} \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa6ce3f5db7dc79642df7c113be3a28d14}{ALG\_MOG}}:
158         \textcolor{keywordflow}{case} \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa3d46f57cfb0a9b1b5b037b387a35f652}{ALG\_GMG}}:
159         \textcolor{keywordflow}{case} \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa4e734ae21b8add9022427f8da9469cfb}{ALG\_CNT}}:
160             std::cerr << \textcolor{stringliteral}{"OpenCV bgfg algorithms are not implemented! Used Vibe by default."} << std::endl;
161             failed = \textcolor{keyword}{true};
162             \textcolor{keywordflow}{break};
163 \textcolor{preprocessor}{#endif}
164 
165         \textcolor{keywordflow}{case} \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa0a4e184ec94bca58e58dd4226f1b1f7f}{ALG\_SuBSENSE}}:
166             \mbox{\hyperlink{class_background_subtract_a56275963c8cacca97b97d0cde884f4c1}{m\_modelSuBSENSE}} = std::make\_unique<BackgroundSubtractorSuBSENSE>(); \textcolor{comment}{// default
       params}
167             \textcolor{keywordflow}{break};
168 
169         \textcolor{keywordflow}{case} \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fae4cc76d1ae01949bc7e6be6ed046ddaf}{ALG\_LOBSTER}}:
170             \mbox{\hyperlink{class_background_subtract_a56275963c8cacca97b97d0cde884f4c1}{m\_modelSuBSENSE}} = std::make\_unique<BackgroundSubtractorLOBSTER>();  \textcolor{comment}{// default
       params}
171             \textcolor{keywordflow}{break};
172 
173         \textcolor{keywordflow}{case} \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa35994e745da8eb824d3808ee50ad3ebf}{ALG\_MOG2}}:
174         \{
175             std::vector<std::string> paramsConf = \{ \textcolor{stringliteral}{"history"}, \textcolor{stringliteral}{"varThreshold"}, \textcolor{stringliteral}{"detectShadows"} \};
176             \textcolor{keyword}{auto} params = std::make\_tuple(500, 16, 1);
177 
178             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < paramsConf.size(); ++i)
179             \{
180                 \textcolor{keyword}{auto} conf = config.find(paramsConf[i]);
181                 \textcolor{keywordflow}{if} (conf != config.end())
182                 \{
183                     std::stringstream ss(conf->second);
184 
185                     \textcolor{keywordflow}{switch} (i)
186                     \{
187                     \textcolor{keywordflow}{case} 0:
188                         ss >> std::get<0>(params);
189                         \textcolor{keywordflow}{break};
190                     \textcolor{keywordflow}{case} 1:
191                         ss >> std::get<1>(params);
192                         \textcolor{keywordflow}{break};
193                     \textcolor{keywordflow}{case} 2:
194                         ss >> std::get<2>(params);
195                         \textcolor{keywordflow}{break};
196                     \}
197                 \}
198             \}
199 
200             \mbox{\hyperlink{class_background_subtract_a80782a38138a430437095f625603e599}{m\_modelOCV}} = cv::createBackgroundSubtractorMOG2(std::get<0>(params), std::get<1>(
      params), std::get<2>(params) != 0).dynamicCast<cv::BackgroundSubtractor>();
201             \textcolor{keywordflow}{break};
202         \}
203 
204         \textcolor{keywordflow}{default}:
205         \{
206             \mbox{\hyperlink{class_background_subtract_a3d569052b6954fa87f04a0aa8a970f97}{m\_algType}} = \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa1905f812773a0029b59688e57990f172}{ALG\_VIBE}};
207             failed = \textcolor{keyword}{false};
208             \textcolor{keywordflow}{break};
209         \}
210         \}
211         \textcolor{keywordflow}{if} (failed)
212         \{
213             \mbox{\hyperlink{class_background_subtract_a3d569052b6954fa87f04a0aa8a970f97}{m\_algType}} = \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa1905f812773a0029b59688e57990f172}{ALG\_VIBE}};
214             failed = \textcolor{keyword}{false};
215         \}
216     \}
217     \textcolor{keywordflow}{return} !failed;
218 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=332pt]{class_background_subtract_a9dacb4cc5cf41c4a37cc776a8142aecc_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_background_subtract_a1cd989730164da1c2523975d2ed32147}\label{class_background_subtract_a1cd989730164da1c2523975d2ed32147}} 
\index{Background\+Subtract@{Background\+Subtract}!Subtract@{Subtract}}
\index{Subtract@{Subtract}!Background\+Subtract@{Background\+Subtract}}
\subsubsection{\texorpdfstring{Subtract()}{Subtract()}}
{\footnotesize\ttfamily void Background\+Subtract\+::\+Subtract (\begin{DoxyParamCaption}\item[{const cv\+::\+U\+Mat \&}]{image,  }\item[{cv\+::\+U\+Mat \&}]{foreground }\end{DoxyParamCaption})}



Definition at line 223 of file Background\+Subtract.\+cpp.


\begin{DoxyCode}
224 \{
225     \textcolor{keyword}{auto} GetImg = [&]() -> cv::UMat
226     \{
227             \textcolor{keywordflow}{if} (image.channels() != \mbox{\hyperlink{class_background_subtract_a676897a571788e0fee84d568bc68caf0}{m\_channels}})
228     \{
229             \textcolor{keywordflow}{if} (image.channels() == 1)
230     \{
231             cv::UMat newImg;
232 \textcolor{preprocessor}{        #if (CV\_VERSION\_MAJOR < 4)}
233             cv::cvtColor(image, newImg, CV\_GRAY2BGR);
234 \textcolor{preprocessor}{        #else}
235             cv::cvtColor(image, newImg, cv::COLOR\_GRAY2BGR);
236 \textcolor{preprocessor}{        #endif}
237             \textcolor{keywordflow}{return} newImg;
238 \}
239             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (image.channels() == 3)
240     \{
241             cv::UMat newImg;
242 \textcolor{preprocessor}{        #if (CV\_VERSION\_MAJOR < 4)}
243             cv::cvtColor(image, newImg, CV\_BGR2GRAY);
244 \textcolor{preprocessor}{        #else}
245             cv::cvtColor(image, newImg, cv::COLOR\_BGR2GRAY);
246 \textcolor{preprocessor}{        #endif}
247             \textcolor{keywordflow}{return} newImg;
248 \}
249 \}
250             \textcolor{keywordflow}{return} image;
251 \};
252 
253     \textcolor{keywordflow}{switch} (\mbox{\hyperlink{class_background_subtract_a3d569052b6954fa87f04a0aa8a970f97}{m\_algType}})
254     \{
255     \textcolor{keywordflow}{case} \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa1905f812773a0029b59688e57990f172}{ALG\_VIBE}}:
256         \mbox{\hyperlink{class_background_subtract_a57c251abeed9a2c73a3c97d0f7f8b527}{m\_modelVibe}}->update(GetImg().getMat(cv::ACCESS\_READ));
257         foreground = \mbox{\hyperlink{class_background_subtract_a57c251abeed9a2c73a3c97d0f7f8b527}{m\_modelVibe}}->getMask().getUMat(cv::ACCESS\_READ);
258         \textcolor{keywordflow}{break};
259 
260     \textcolor{keywordflow}{case} \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa6ce3f5db7dc79642df7c113be3a28d14}{ALG\_MOG}}:
261     \textcolor{keywordflow}{case} \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa3d46f57cfb0a9b1b5b037b387a35f652}{ALG\_GMG}}:
262     \textcolor{keywordflow}{case} \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa4e734ae21b8add9022427f8da9469cfb}{ALG\_CNT}}:
263 \textcolor{preprocessor}{#ifdef USE\_OCV\_BGFG}
264         \mbox{\hyperlink{class_background_subtract_a80782a38138a430437095f625603e599}{m\_modelOCV}}->apply(GetImg(), foreground);
265         \textcolor{keywordflow}{break};
266 \textcolor{preprocessor}{#else}
267         std::cerr << \textcolor{stringliteral}{"OpenCV bgfg algorithms are not implemented!"} << std::endl;
268         \textcolor{keywordflow}{break};
269 \textcolor{preprocessor}{#endif}
270 
271     \textcolor{keywordflow}{case} \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa0a4e184ec94bca58e58dd4226f1b1f7f}{ALG\_SuBSENSE}}:
272     \textcolor{keywordflow}{case} \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fae4cc76d1ae01949bc7e6be6ed046ddaf}{ALG\_LOBSTER}}:
273         \textcolor{keywordflow}{if} (foreground.size() != image.size())
274         \{
275             \mbox{\hyperlink{class_background_subtract_a56275963c8cacca97b97d0cde884f4c1}{m\_modelSuBSENSE}}->initialize(GetImg().getMat(cv::ACCESS\_READ), cv::Mat());
276             foreground.create(image.size(), CV\_8UC1);
277         \}
278         \textcolor{keywordflow}{else}
279         \{
280             \mbox{\hyperlink{class_background_subtract_a56275963c8cacca97b97d0cde884f4c1}{m\_modelSuBSENSE}}->apply(GetImg(), foreground);
281         \}
282         \textcolor{keywordflow}{break};
283 
284     \textcolor{keywordflow}{case} \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949fa35994e745da8eb824d3808ee50ad3ebf}{ALG\_MOG2}}:
285         \mbox{\hyperlink{class_background_subtract_a80782a38138a430437095f625603e599}{m\_modelOCV}}->apply(GetImg(), foreground);
286         cv::threshold(foreground, foreground, 200, 255, cv::THRESH\_BINARY);
287         \textcolor{keywordflow}{break};
288 
289     \textcolor{keywordflow}{default}:
290         \mbox{\hyperlink{class_background_subtract_a57c251abeed9a2c73a3c97d0f7f8b527}{m\_modelVibe}}->update(GetImg().getMat(cv::ACCESS\_READ));
291         foreground = \mbox{\hyperlink{class_background_subtract_a57c251abeed9a2c73a3c97d0f7f8b527}{m\_modelVibe}}->getMask().getUMat(cv::ACCESS\_READ);
292         \textcolor{keywordflow}{break};
293     \}
294 
295     \textcolor{comment}{//cv::imshow("before", foreground);}
296 
297     cv::medianBlur(foreground, foreground, 3);
298 
299     cv::Mat dilateElement = cv::getStructuringElement(cv::MORPH\_RECT, cv::Size(3, 3), cv::Point(-1, -1));
300     cv::dilate(foreground, foreground, dilateElement, cv::Point(-1, -1), 2);
301 
302     \textcolor{comment}{//cv::imshow("after", foreground);}
303 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{class_background_subtract_a3d569052b6954fa87f04a0aa8a970f97}\label{class_background_subtract_a3d569052b6954fa87f04a0aa8a970f97}} 
\index{Background\+Subtract@{Background\+Subtract}!m\+\_\+alg\+Type@{m\+\_\+alg\+Type}}
\index{m\+\_\+alg\+Type@{m\+\_\+alg\+Type}!Background\+Subtract@{Background\+Subtract}}
\subsubsection{\texorpdfstring{m\+\_\+alg\+Type}{m\_algType}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_background_subtract_a56850081696df68b55f87b4f3d87949f}{B\+G\+F\+G\+\_\+\+A\+L\+GS}} Background\+Subtract\+::m\+\_\+alg\+Type}



Definition at line 37 of file Background\+Subtract.\+h.

\mbox{\Hypertarget{class_background_subtract_a676897a571788e0fee84d568bc68caf0}\label{class_background_subtract_a676897a571788e0fee84d568bc68caf0}} 
\index{Background\+Subtract@{Background\+Subtract}!m\+\_\+channels@{m\+\_\+channels}}
\index{m\+\_\+channels@{m\+\_\+channels}!Background\+Subtract@{Background\+Subtract}}
\subsubsection{\texorpdfstring{m\+\_\+channels}{m\_channels}}
{\footnotesize\ttfamily int Background\+Subtract\+::m\+\_\+channels}



Definition at line 36 of file Background\+Subtract.\+h.

\mbox{\Hypertarget{class_background_subtract_a80782a38138a430437095f625603e599}\label{class_background_subtract_a80782a38138a430437095f625603e599}} 
\index{Background\+Subtract@{Background\+Subtract}!m\+\_\+model\+O\+CV@{m\+\_\+model\+O\+CV}}
\index{m\+\_\+model\+O\+CV@{m\+\_\+model\+O\+CV}!Background\+Subtract@{Background\+Subtract}}
\subsubsection{\texorpdfstring{m\+\_\+model\+O\+CV}{m\_modelOCV}}
{\footnotesize\ttfamily cv\+::\+Ptr$<$cv\+::\+Background\+Subtractor$>$ Background\+Subtract\+::m\+\_\+model\+O\+CV\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 41 of file Background\+Subtract.\+h.

\mbox{\Hypertarget{class_background_subtract_a56275963c8cacca97b97d0cde884f4c1}\label{class_background_subtract_a56275963c8cacca97b97d0cde884f4c1}} 
\index{Background\+Subtract@{Background\+Subtract}!m\+\_\+model\+Su\+B\+S\+E\+N\+SE@{m\+\_\+model\+Su\+B\+S\+E\+N\+SE}}
\index{m\+\_\+model\+Su\+B\+S\+E\+N\+SE@{m\+\_\+model\+Su\+B\+S\+E\+N\+SE}!Background\+Subtract@{Background\+Subtract}}
\subsubsection{\texorpdfstring{m\+\_\+model\+Su\+B\+S\+E\+N\+SE}{m\_modelSuBSENSE}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{class_background_subtractor_l_b_s_p}{Background\+Subtractor\+L\+B\+SP}}$>$ Background\+Subtract\+::m\+\_\+model\+Su\+B\+S\+E\+N\+SE\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 42 of file Background\+Subtract.\+h.

\mbox{\Hypertarget{class_background_subtract_a57c251abeed9a2c73a3c97d0f7f8b527}\label{class_background_subtract_a57c251abeed9a2c73a3c97d0f7f8b527}} 
\index{Background\+Subtract@{Background\+Subtract}!m\+\_\+model\+Vibe@{m\+\_\+model\+Vibe}}
\index{m\+\_\+model\+Vibe@{m\+\_\+model\+Vibe}!Background\+Subtract@{Background\+Subtract}}
\subsubsection{\texorpdfstring{m\+\_\+model\+Vibe}{m\_modelVibe}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classvibe_1_1_v_i_b_e}{vibe\+::\+V\+I\+BE}}$>$ Background\+Subtract\+::m\+\_\+model\+Vibe\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 40 of file Background\+Subtract.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
D\+:/\+Roy/\+Git\+Hub/\+Multitarget-\/tracker/\+Detector/\mbox{\hyperlink{_background_subtract_8h}{Background\+Subtract.\+h}}\item 
D\+:/\+Roy/\+Git\+Hub/\+Multitarget-\/tracker/\+Detector/\mbox{\hyperlink{_background_subtract_8cpp}{Background\+Subtract.\+cpp}}\end{DoxyCompactItemize}
