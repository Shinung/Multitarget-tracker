\hypertarget{class_l_b_s_p}{}\section{L\+B\+SP Class Reference}
\label{class_l_b_s_p}\index{L\+B\+SP@{L\+B\+SP}}


{\ttfamily \#include $<$L\+B\+S\+P.\+h$>$}



Inheritance diagram for L\+B\+SP\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=241pt]{class_l_b_s_p__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for L\+B\+SP\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=241pt]{class_l_b_s_p__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_l_b_s_p_ae8297d81cf95b0e5333bf2e88b396a23}{L\+B\+SP}} (size\+\_\+t n\+Threshold)
\begin{DoxyCompactList}\small\item\em constructor 1, threshold = absolute intensity \textquotesingle{}similarity\textquotesingle{} threshold used when computing comparisons \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_l_b_s_p_ab702ec2748fc5bac6e258370a089c270}{L\+B\+SP}} (float f\+Rel\+Threshold, size\+\_\+t n\+Threshold\+Offset=0)
\begin{DoxyCompactList}\small\item\em constructor 2, threshold = relative intensity \textquotesingle{}similarity\textquotesingle{} threshold used when computing comparisons \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{class_l_b_s_p_ad1a391995cbb0cfbb7289c73a6d37bc6}{$\sim$\+L\+B\+SP}} ()
\begin{DoxyCompactList}\small\item\em default destructor \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_l_b_s_p_abd44c9e34e9a3b10ca1f08e32cc7f2fa}{read}} (const cv\+::\+File\+Node \&)
\begin{DoxyCompactList}\small\item\em loads extractor params from the specified file node @@ not impl \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_l_b_s_p_a8a669d927653d7ba62c4097b306e0d5a}{write}} (cv\+::\+File\+Storage \&) const
\begin{DoxyCompactList}\small\item\em writes extractor params to the specified file storage @@ not impl \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_l_b_s_p_a0d35c4022d72d62e90b44507f7a979bf}{set\+Reference}} (const cv\+::\+Mat \&)
\begin{DoxyCompactList}\small\item\em sets the \textquotesingle{}reference\textquotesingle{} image to be used for inter-\/frame comparisons (note\+: if no image is set or if the image is empty, the algorithm will default back to intra-\/frame comparisons) \end{DoxyCompactList}\item 
virtual int \mbox{\hyperlink{class_l_b_s_p_afc7aa065fa562edd2b16b766910e7806}{descriptor\+Size}} () const
\begin{DoxyCompactList}\small\item\em returns the current descriptor size, in bytes \end{DoxyCompactList}\item 
virtual int \mbox{\hyperlink{class_l_b_s_p_a36803a3126c171c945dcb35a1d43f421}{descriptor\+Type}} () const
\begin{DoxyCompactList}\small\item\em returns the current descriptor data type \end{DoxyCompactList}\item 
virtual bool \mbox{\hyperlink{class_l_b_s_p_a1f75012723a8990ea7b9f74d3293dbe6}{is\+Using\+Rel\+Threshold}} () const
\begin{DoxyCompactList}\small\item\em returns whether this extractor is using a relative threshold or not \end{DoxyCompactList}\item 
virtual float \mbox{\hyperlink{class_l_b_s_p_acf999adf45d5e425d28b00ace6c928a4}{get\+Rel\+Threshold}} () const
\begin{DoxyCompactList}\small\item\em returns the current relative threshold used for comparisons (-\/1 = invalid/not used) \end{DoxyCompactList}\item 
virtual size\+\_\+t \mbox{\hyperlink{class_l_b_s_p_a6412e6797415eaf34def8ec7a92dc7ab}{get\+Abs\+Threshold}} () const
\begin{DoxyCompactList}\small\item\em returns the current absolute threshold used for comparisons (-\/1 = invalid/not used) \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_l_b_s_p_ab61148341758dbc004660761bca04f84}{compute2}} (const cv\+::\+Mat \&o\+Image, std\+::vector$<$ cv\+::\+Key\+Point $>$ \&vo\+Keypoints, cv\+::\+Mat \&o\+Descriptors) const
\begin{DoxyCompactList}\small\item\em similar to Descriptor\+Extractor\+::compute(const cv\+::\+Mat\& image, ...), but in this case, the descriptors matrix has the same shape as the input matrix (possibly slower, but the result can be displayed) \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_l_b_s_p_af02407f0a1657cd3e2b955aa250d064e}{compute2}} (const std\+::vector$<$ cv\+::\+Mat $>$ \&vo\+Image\+Collection, std\+::vector$<$ std\+::vector$<$ cv\+::\+Key\+Point $>$ $>$ \&vvo\+Point\+Collection, std\+::vector$<$ cv\+::\+Mat $>$ \&vo\+Desc\+Collection) const
\begin{DoxyCompactList}\small\item\em batch version of \mbox{\hyperlink{class_l_b_s_p_ab61148341758dbc004660761bca04f84}{L\+B\+S\+P\+::compute2}}(const cv\+::\+Mat\& image, ...), also similar to Descriptor\+Extractor\+::compute(const std\+::vector$<$cv\+::\+Mat$>$\& image\+Collection, ...) \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{class_l_b_s_p_a4a5f635868b6b81ba53df2692ee3dfd8}{compute\+Grayscale\+Descriptor}} (const cv\+::\+Mat \&o\+Input\+Img, const uchar \+\_\+ref, const int \+\_\+x, const int \+\_\+y, const size\+\_\+t \+\_\+t, ushort \&\+\_\+res)
\begin{DoxyCompactList}\small\item\em utility function, shortcut/lightweight/direct single-\/point \mbox{\hyperlink{class_l_b_s_p}{L\+B\+SP}} computation function for extra flexibility (1-\/channel version) \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{class_l_b_s_p_a27a44cb6f6e3015ee26047bd3d84f892}{compute\+R\+G\+B\+Descriptor}} (const cv\+::\+Mat \&o\+Input\+Img, const uchar $\ast$const \+\_\+ref, const int \+\_\+x, const int \+\_\+y, const size\+\_\+t $\ast$const \+\_\+t, ushort $\ast$\+\_\+res)
\begin{DoxyCompactList}\small\item\em utility function, shortcut/lightweight/direct single-\/point \mbox{\hyperlink{class_l_b_s_p}{L\+B\+SP}} computation function for extra flexibility (3-\/channels version) \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{class_l_b_s_p_a806e1de0fdf2a59acb9fa1303b62b102}{compute\+R\+G\+B\+Descriptor}} (const cv\+::\+Mat \&o\+Input\+Img, const uchar $\ast$const \+\_\+ref, const int \+\_\+x, const int \+\_\+y, const size\+\_\+t \+\_\+t, ushort $\ast$\+\_\+res)
\begin{DoxyCompactList}\small\item\em utility function, shortcut/lightweight/direct single-\/point \mbox{\hyperlink{class_l_b_s_p}{L\+B\+SP}} computation function for extra flexibility (3-\/channels version) \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{class_l_b_s_p_a35f2abfacc0d540810d678ff5e8cd619}{compute\+Single\+R\+G\+B\+Descriptor}} (const cv\+::\+Mat \&o\+Input\+Img, const uchar \+\_\+ref, const int \+\_\+x, const int \+\_\+y, const size\+\_\+t \+\_\+c, const size\+\_\+t \+\_\+t, ushort \&\+\_\+res)
\begin{DoxyCompactList}\small\item\em utility function, shortcut/lightweight/direct single-\/point \mbox{\hyperlink{class_l_b_s_p}{L\+B\+SP}} computation function for extra flexibility (1-\/channel-\/\+R\+GB version) \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{class_l_b_s_p_a555e2f241fbdac2ebb1eab31482f5f05}{reshape\+Desc}} (cv\+::\+Size o\+Size, const std\+::vector$<$ cv\+::\+Key\+Point $>$ \&vo\+Keypoints, const cv\+::\+Mat \&o\+Descriptors, cv\+::\+Mat \&o\+Output)
\begin{DoxyCompactList}\small\item\em utility function, used to reshape a descriptors matrix to its input image size via their keypoint locations \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{class_l_b_s_p_a5d390a2a6f3d94a4edadae3718daf884}{calc\+Desc\+Img\+Diff}} (const cv\+::\+Mat \&o\+Desc1, const cv\+::\+Mat \&o\+Desc2, cv\+::\+Mat \&o\+Output, bool b\+Force\+Merge\+Channels=false)
\begin{DoxyCompactList}\small\item\em utility function, used to illustrate the difference between two descriptor images \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{class_l_b_s_p_ae5efff966783470187b0a7b7cde63469}{validate\+Key\+Points}} (std\+::vector$<$ cv\+::\+Key\+Point $>$ \&vo\+Keypoints, cv\+::\+Size o\+Img\+Size)
\begin{DoxyCompactList}\small\item\em utility function, used to filter out bad keypoints that would trigger out of bounds error because they\textquotesingle{}re too close to the image border \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{class_l_b_s_p_ad97557be4bc6cfd7b0fa4b01ab8f8c55}{validate\+R\+OI}} (cv\+::\+Mat \&o\+R\+OI)
\begin{DoxyCompactList}\small\item\em utility function, used to filter out bad pixels in a R\+OI that would trigger out of bounds error because they\textquotesingle{}re too close to the image border \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static const size\+\_\+t \mbox{\hyperlink{class_l_b_s_p_aa98abb79a155d3a2b416c2ab32e74929}{P\+A\+T\+C\+H\+\_\+\+S\+I\+ZE}} = 5
\begin{DoxyCompactList}\small\item\em utility, specifies the pixel size of the pattern used (width and height) \end{DoxyCompactList}\item 
static const size\+\_\+t \mbox{\hyperlink{class_l_b_s_p_a11167130ddc713921e5bbb0b628d5f74}{D\+E\+S\+C\+\_\+\+S\+I\+ZE}} = 2
\begin{DoxyCompactList}\small\item\em utility, specifies the number of bytes per descriptor (should be the same as calling \textquotesingle{}\mbox{\hyperlink{class_l_b_s_p_afc7aa065fa562edd2b16b766910e7806}{descriptor\+Size()}}\textquotesingle{}) \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \mbox{\hyperlink{class_l_b_s_p_a1a9b0613104169b3cdf567f7625c7fc4}{compute\+Impl}} (const cv\+::\+Mat \&o\+Image, std\+::vector$<$ cv\+::\+Key\+Point $>$ \&vo\+Keypoints, cv\+::\+Mat \&o\+Descriptors) const
\begin{DoxyCompactList}\small\item\em classic \textquotesingle{}compute\textquotesingle{} implementation, based on the regular Descriptor\+Extractor\+::compute\+Impl arguments \& expected output \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
const bool \mbox{\hyperlink{class_l_b_s_p_a5f49537c70502b73f32038218a4f8371}{m\+\_\+b\+Only\+Using\+Abs\+Threshold}}
\item 
const float \mbox{\hyperlink{class_l_b_s_p_a99fbb83c842782bb5621a43efb7580d5}{m\+\_\+f\+Rel\+Threshold}}
\item 
const size\+\_\+t \mbox{\hyperlink{class_l_b_s_p_aa1c90eb308a5ff277df09c4da186693a}{m\+\_\+n\+Threshold}}
\item 
cv\+::\+Mat \mbox{\hyperlink{class_l_b_s_p_a8c5ccb37124c8fa457db0ba9dbe28c18}{m\+\_\+o\+Ref\+Image}}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Local Binary Similarity Pattern (\mbox{\hyperlink{class_l_b_s_p}{L\+B\+SP}}) feature extractor

Note 1\+: both grayscale and R\+G\+B/\+B\+GR images may be used with this extractor. Note 2\+: using \mbox{\hyperlink{class_l_b_s_p_ab61148341758dbc004660761bca04f84}{L\+B\+S\+P\+::compute2}}(...) is logically equivalent to using L\+B\+S\+P\+::compute(...) followed by \mbox{\hyperlink{class_l_b_s_p_a555e2f241fbdac2ebb1eab31482f5f05}{L\+B\+S\+P\+::reshape\+Desc}}(...).

For more details on the different parameters, see G.-\/A. Bilodeau et al, \char`\"{}\+Change Detection in Feature Space Using Local
\+Binary Similarity Patterns\char`\"{}, in C\+RV 2013.

This algorithm is currently N\+OT thread-\/safe. 

Definition at line 18 of file L\+B\+S\+P.\+h.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_l_b_s_p_ae8297d81cf95b0e5333bf2e88b396a23}\label{class_l_b_s_p_ae8297d81cf95b0e5333bf2e88b396a23}} 
\index{L\+B\+SP@{L\+B\+SP}!L\+B\+SP@{L\+B\+SP}}
\index{L\+B\+SP@{L\+B\+SP}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{L\+B\+S\+P()}{LBSP()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily L\+B\+S\+P\+::\+L\+B\+SP (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{n\+Threshold }\end{DoxyParamCaption})}



constructor 1, threshold = absolute intensity \textquotesingle{}similarity\textquotesingle{} threshold used when computing comparisons 



Definition at line 3 of file L\+B\+S\+P.\+cpp.


\begin{DoxyCode}
4     :    \mbox{\hyperlink{class_l_b_s_p_a5f49537c70502b73f32038218a4f8371}{m\_bOnlyUsingAbsThreshold}}(\textcolor{keyword}{true})
5         ,\mbox{\hyperlink{class_l_b_s_p_a99fbb83c842782bb5621a43efb7580d5}{m\_fRelThreshold}}(0) \textcolor{comment}{// unused}
6         ,\mbox{\hyperlink{class_l_b_s_p_aa1c90eb308a5ff277df09c4da186693a}{m\_nThreshold}}(nThreshold)
7         ,\mbox{\hyperlink{class_l_b_s_p_a8c5ccb37124c8fa457db0ba9dbe28c18}{m\_oRefImage}}() \{\}
\end{DoxyCode}
\mbox{\Hypertarget{class_l_b_s_p_ab702ec2748fc5bac6e258370a089c270}\label{class_l_b_s_p_ab702ec2748fc5bac6e258370a089c270}} 
\index{L\+B\+SP@{L\+B\+SP}!L\+B\+SP@{L\+B\+SP}}
\index{L\+B\+SP@{L\+B\+SP}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{L\+B\+S\+P()}{LBSP()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily L\+B\+S\+P\+::\+L\+B\+SP (\begin{DoxyParamCaption}\item[{float}]{f\+Rel\+Threshold,  }\item[{size\+\_\+t}]{n\+Threshold\+Offset = {\ttfamily 0} }\end{DoxyParamCaption})}



constructor 2, threshold = relative intensity \textquotesingle{}similarity\textquotesingle{} threshold used when computing comparisons 



Definition at line 9 of file L\+B\+S\+P.\+cpp.


\begin{DoxyCode}
10     :    \mbox{\hyperlink{class_l_b_s_p_a5f49537c70502b73f32038218a4f8371}{m\_bOnlyUsingAbsThreshold}}(\textcolor{keyword}{false})
11         ,\mbox{\hyperlink{class_l_b_s_p_a99fbb83c842782bb5621a43efb7580d5}{m\_fRelThreshold}}(fRelThreshold)
12         ,\mbox{\hyperlink{class_l_b_s_p_aa1c90eb308a5ff277df09c4da186693a}{m\_nThreshold}}(nThresholdOffset)
13         ,\mbox{\hyperlink{class_l_b_s_p_a8c5ccb37124c8fa457db0ba9dbe28c18}{m\_oRefImage}}() \{
14     CV\_Assert(\mbox{\hyperlink{class_l_b_s_p_a99fbb83c842782bb5621a43efb7580d5}{m\_fRelThreshold}}>=0);
15 \}
\end{DoxyCode}
\mbox{\Hypertarget{class_l_b_s_p_ad1a391995cbb0cfbb7289c73a6d37bc6}\label{class_l_b_s_p_ad1a391995cbb0cfbb7289c73a6d37bc6}} 
\index{L\+B\+SP@{L\+B\+SP}!````~L\+B\+SP@{$\sim$\+L\+B\+SP}}
\index{````~L\+B\+SP@{$\sim$\+L\+B\+SP}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{$\sim$\+L\+B\+S\+P()}{~LBSP()}}
{\footnotesize\ttfamily L\+B\+S\+P\+::$\sim$\+L\+B\+SP (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



default destructor 



Definition at line 17 of file L\+B\+S\+P.\+cpp.


\begin{DoxyCode}
17 \{\}
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_l_b_s_p_a5d390a2a6f3d94a4edadae3718daf884}\label{class_l_b_s_p_a5d390a2a6f3d94a4edadae3718daf884}} 
\index{L\+B\+SP@{L\+B\+SP}!calc\+Desc\+Img\+Diff@{calc\+Desc\+Img\+Diff}}
\index{calc\+Desc\+Img\+Diff@{calc\+Desc\+Img\+Diff}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{calc\+Desc\+Img\+Diff()}{calcDescImgDiff()}}
{\footnotesize\ttfamily void L\+B\+S\+P\+::calc\+Desc\+Img\+Diff (\begin{DoxyParamCaption}\item[{const cv\+::\+Mat \&}]{o\+Desc1,  }\item[{const cv\+::\+Mat \&}]{o\+Desc2,  }\item[{cv\+::\+Mat \&}]{o\+Output,  }\item[{bool}]{b\+Force\+Merge\+Channels = {\ttfamily false} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



utility function, used to illustrate the difference between two descriptor images 



Definition at line 262 of file L\+B\+S\+P.\+cpp.


\begin{DoxyCode}
262                                                                                                            
        \{
263     CV\_DbgAssert(oDesc1.size()==oDesc2.size() && oDesc1.type()==oDesc2.type());
264     CV\_DbgAssert(\mbox{\hyperlink{class_l_b_s_p_a11167130ddc713921e5bbb0b628d5f74}{DESC\_SIZE}}==2); \textcolor{comment}{// @@@ also relies on a constant desc size}
265     CV\_DbgAssert(oDesc1.type()==CV\_16UC1 || oDesc1.type()==CV\_16UC3);
266     CV\_DbgAssert(CV\_MAT\_DEPTH(oDesc1.type())==CV\_16U);
267     CV\_DbgAssert(\mbox{\hyperlink{class_l_b_s_p_a11167130ddc713921e5bbb0b628d5f74}{DESC\_SIZE}}*8<=UCHAR\_MAX);
268     CV\_DbgAssert(oDesc1.step.p[0]==oDesc2.step.p[0] && oDesc1.step.p[1]==oDesc2.step.p[1]);
269     \textcolor{keyword}{const} \textcolor{keywordtype}{float} fScaleFactor = (float)UCHAR\_MAX/(\mbox{\hyperlink{class_l_b_s_p_a11167130ddc713921e5bbb0b628d5f74}{DESC\_SIZE}}*8);
270     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} nChannels = CV\_MAT\_CN(oDesc1.type());
271     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \_step\_row = oDesc1.step.p[0];
272     \textcolor{keywordflow}{if}(nChannels==1) \{
273         oOutput.create(oDesc1.size(),CV\_8UC1);
274         oOutput = cv::Scalar(0);
275         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0; i<oDesc1.rows; ++i) \{
276             \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} idx = \_step\_row*i;
277             \textcolor{keyword}{const} ushort* \textcolor{keyword}{const} desc1\_ptr = (ushort*)(oDesc1.data+idx);
278             \textcolor{keyword}{const} ushort* \textcolor{keyword}{const} desc2\_ptr = (ushort*)(oDesc2.data+idx);
279             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} j=0; j<oDesc1.cols; ++j)
280                 oOutput.at<uchar>(i,j) = (uchar)(fScaleFactor*\mbox{\hyperlink{_distance_utils_8h_ab13812ef6e21af771d6c0a856cd941b0}{hdist}}(desc1\_ptr[j],desc2\_ptr[j]));
281         \}
282     \}
283     \textcolor{keywordflow}{else} \{ \textcolor{comment}{//nChannels==3}
284         \textcolor{keywordflow}{if}(bForceMergeChannels)
285             oOutput.create(oDesc1.size(),CV\_8UC1);
286         \textcolor{keywordflow}{else}
287             oOutput.create(oDesc1.size(),CV\_8UC3);
288         oOutput = cv::Scalar::all(0);
289         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0; i<oDesc1.rows; ++i) \{
290             \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} idx =  \_step\_row*i;
291             \textcolor{keyword}{const} ushort* \textcolor{keyword}{const} desc1\_ptr = (ushort*)(oDesc1.data+idx);
292             \textcolor{keyword}{const} ushort* \textcolor{keyword}{const} desc2\_ptr = (ushort*)(oDesc2.data+idx);
293             uchar* output\_ptr = oOutput.data + oOutput.step.p[0]*i;
294             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} j=0; j<oDesc1.cols; ++j) \{
295                 \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t} n=0;n<3; ++n) \{
296                     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} idx2 = 3*j+n;
297                     \textcolor{keywordflow}{if}(bForceMergeChannels)
298                         output\_ptr[j] += (uchar)((fScaleFactor*\mbox{\hyperlink{_distance_utils_8h_ab13812ef6e21af771d6c0a856cd941b0}{hdist}}(desc1\_ptr[idx2],desc2\_ptr[idx2]))
      /3);
299                     \textcolor{keywordflow}{else}
300                         output\_ptr[idx2] = (uchar)(fScaleFactor*\mbox{\hyperlink{_distance_utils_8h_ab13812ef6e21af771d6c0a856cd941b0}{hdist}}(desc1\_ptr[idx2],desc2\_ptr[idx2])
      );
301                 \}
302             \}
303         \}
304     \}
305 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_l_b_s_p_a5d390a2a6f3d94a4edadae3718daf884_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_l_b_s_p_ab61148341758dbc004660761bca04f84}\label{class_l_b_s_p_ab61148341758dbc004660761bca04f84}} 
\index{L\+B\+SP@{L\+B\+SP}!compute2@{compute2}}
\index{compute2@{compute2}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{compute2()}{compute2()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void L\+B\+S\+P\+::compute2 (\begin{DoxyParamCaption}\item[{const cv\+::\+Mat \&}]{o\+Image,  }\item[{std\+::vector$<$ cv\+::\+Key\+Point $>$ \&}]{vo\+Keypoints,  }\item[{cv\+::\+Mat \&}]{o\+Descriptors }\end{DoxyParamCaption}) const}



similar to Descriptor\+Extractor\+::compute(const cv\+::\+Mat\& image, ...), but in this case, the descriptors matrix has the same shape as the input matrix (possibly slower, but the result can be displayed) 



Definition at line 200 of file L\+B\+S\+P.\+cpp.


\begin{DoxyCode}
200                                                                                                       \{
201     CV\_Assert(!oImage.empty());
202     cv::KeyPointsFilter::runByImageBorder(voKeypoints,oImage.size(),\mbox{\hyperlink{class_l_b_s_p_aa98abb79a155d3a2b416c2ab32e74929}{PATCH\_SIZE}}/2);
203     cv::KeyPointsFilter::runByKeypointSize(voKeypoints,std::numeric\_limits<float>::epsilon());
204     \textcolor{keywordflow}{if}(voKeypoints.empty()) \{
205         oDescriptors.release();
206         \textcolor{keywordflow}{return};
207     \}
208     \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_l_b_s_p_a5f49537c70502b73f32038218a4f8371}{m\_bOnlyUsingAbsThreshold}})
209         \mbox{\hyperlink{_l_b_s_p_8cpp_ae3b8f6aa03bfa7f16d458a8347dba320}{lbsp\_computeImpl2}}(oImage,\mbox{\hyperlink{class_l_b_s_p_a8c5ccb37124c8fa457db0ba9dbe28c18}{m\_oRefImage}},voKeypoints,oDescriptors,
      \mbox{\hyperlink{class_l_b_s_p_aa1c90eb308a5ff277df09c4da186693a}{m\_nThreshold}});
210     \textcolor{keywordflow}{else}
211         \mbox{\hyperlink{_l_b_s_p_8cpp_ae3b8f6aa03bfa7f16d458a8347dba320}{lbsp\_computeImpl2}}(oImage,\mbox{\hyperlink{class_l_b_s_p_a8c5ccb37124c8fa457db0ba9dbe28c18}{m\_oRefImage}},voKeypoints,oDescriptors,
      \mbox{\hyperlink{class_l_b_s_p_a99fbb83c842782bb5621a43efb7580d5}{m\_fRelThreshold}},\mbox{\hyperlink{class_l_b_s_p_aa1c90eb308a5ff277df09c4da186693a}{m\_nThreshold}});
212 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=308pt]{class_l_b_s_p_ab61148341758dbc004660761bca04f84_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=298pt]{class_l_b_s_p_ab61148341758dbc004660761bca04f84_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_l_b_s_p_af02407f0a1657cd3e2b955aa250d064e}\label{class_l_b_s_p_af02407f0a1657cd3e2b955aa250d064e}} 
\index{L\+B\+SP@{L\+B\+SP}!compute2@{compute2}}
\index{compute2@{compute2}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{compute2()}{compute2()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void L\+B\+S\+P\+::compute2 (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ cv\+::\+Mat $>$ \&}]{vo\+Image\+Collection,  }\item[{std\+::vector$<$ std\+::vector$<$ cv\+::\+Key\+Point $>$ $>$ \&}]{vvo\+Point\+Collection,  }\item[{std\+::vector$<$ cv\+::\+Mat $>$ \&}]{vo\+Desc\+Collection }\end{DoxyParamCaption}) const}



batch version of \mbox{\hyperlink{class_l_b_s_p_ab61148341758dbc004660761bca04f84}{L\+B\+S\+P\+::compute2}}(const cv\+::\+Mat\& image, ...), also similar to Descriptor\+Extractor\+::compute(const std\+::vector$<$cv\+::\+Mat$>$\& image\+Collection, ...) 



Definition at line 214 of file L\+B\+S\+P.\+cpp.


\begin{DoxyCode}
214                                                                                                            
                                                         \{
215     CV\_Assert(voImageCollection.size() == vvoPointCollection.size());
216     voDescCollection.resize(voImageCollection.size());
217     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t} i=0; i<voImageCollection.size(); i++)
218         \mbox{\hyperlink{class_l_b_s_p_ab61148341758dbc004660761bca04f84}{compute2}}(voImageCollection[i], vvoPointCollection[i], voDescCollection[i]);
219 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_l_b_s_p_af02407f0a1657cd3e2b955aa250d064e_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_l_b_s_p_a4a5f635868b6b81ba53df2692ee3dfd8}\label{class_l_b_s_p_a4a5f635868b6b81ba53df2692ee3dfd8}} 
\index{L\+B\+SP@{L\+B\+SP}!compute\+Grayscale\+Descriptor@{compute\+Grayscale\+Descriptor}}
\index{compute\+Grayscale\+Descriptor@{compute\+Grayscale\+Descriptor}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{compute\+Grayscale\+Descriptor()}{computeGrayscaleDescriptor()}}
{\footnotesize\ttfamily static void L\+B\+S\+P\+::compute\+Grayscale\+Descriptor (\begin{DoxyParamCaption}\item[{const cv\+::\+Mat \&}]{o\+Input\+Img,  }\item[{const uchar}]{\+\_\+ref,  }\item[{const int}]{\+\_\+x,  }\item[{const int}]{\+\_\+y,  }\item[{const size\+\_\+t}]{\+\_\+t,  }\item[{ushort \&}]{\+\_\+res }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



utility function, shortcut/lightweight/direct single-\/point \mbox{\hyperlink{class_l_b_s_p}{L\+B\+SP}} computation function for extra flexibility (1-\/channel version) 



Definition at line 49 of file L\+B\+S\+P.\+h.


\begin{DoxyCode}
49                                                                                                            
                                                  \{
50         CV\_DbgAssert(!oInputImg.empty());
51         CV\_DbgAssert(oInputImg.type()==CV\_8UC1);
52         CV\_DbgAssert(\mbox{\hyperlink{class_l_b_s_p_a11167130ddc713921e5bbb0b628d5f74}{LBSP::DESC\_SIZE}}==2); \textcolor{comment}{// @@@ also relies on a constant desc size}
53         CV\_DbgAssert(\_x>=(\textcolor{keywordtype}{int})\mbox{\hyperlink{class_l_b_s_p_aa98abb79a155d3a2b416c2ab32e74929}{LBSP::PATCH\_SIZE}}/2 && \_y>=(\textcolor{keywordtype}{int})
      \mbox{\hyperlink{class_l_b_s_p_aa98abb79a155d3a2b416c2ab32e74929}{LBSP::PATCH\_SIZE}}/2);
54         CV\_DbgAssert(\_x<oInputImg.cols-(\textcolor{keywordtype}{int})\mbox{\hyperlink{class_l_b_s_p_aa98abb79a155d3a2b416c2ab32e74929}{LBSP::PATCH\_SIZE}}/2 && \_y<oInputImg.rows-(\textcolor{keywordtype}{int})
      \mbox{\hyperlink{class_l_b_s_p_aa98abb79a155d3a2b416c2ab32e74929}{LBSP::PATCH\_SIZE}}/2);
55         \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \_step\_row = oInputImg.step.p[0];
56         \textcolor{keyword}{const} uchar* \textcolor{keyword}{const} \_data = oInputImg.data;
57 \textcolor{preprocessor}{        #include "LBSP\_16bits\_dbcross\_1ch.i"}
58     \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_l_b_s_p_a4a5f635868b6b81ba53df2692ee3dfd8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_l_b_s_p_a1a9b0613104169b3cdf567f7625c7fc4}\label{class_l_b_s_p_a1a9b0613104169b3cdf567f7625c7fc4}} 
\index{L\+B\+SP@{L\+B\+SP}!compute\+Impl@{compute\+Impl}}
\index{compute\+Impl@{compute\+Impl}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{compute\+Impl()}{computeImpl()}}
{\footnotesize\ttfamily void L\+B\+S\+P\+::compute\+Impl (\begin{DoxyParamCaption}\item[{const cv\+::\+Mat \&}]{o\+Image,  }\item[{std\+::vector$<$ cv\+::\+Key\+Point $>$ \&}]{vo\+Keypoints,  }\item[{cv\+::\+Mat \&}]{o\+Descriptors }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



classic \textquotesingle{}compute\textquotesingle{} implementation, based on the regular Descriptor\+Extractor\+::compute\+Impl arguments \& expected output 



Definition at line 221 of file L\+B\+S\+P.\+cpp.


\begin{DoxyCode}
221                                                                                                          \{
222     CV\_Assert(!oImage.empty());
223     cv::KeyPointsFilter::runByImageBorder(voKeypoints,oImage.size(),\mbox{\hyperlink{class_l_b_s_p_aa98abb79a155d3a2b416c2ab32e74929}{PATCH\_SIZE}}/2);
224     cv::KeyPointsFilter::runByKeypointSize(voKeypoints,std::numeric\_limits<float>::epsilon());
225     \textcolor{keywordflow}{if}(voKeypoints.empty()) \{
226         oDescriptors.release();
227         \textcolor{keywordflow}{return};
228     \}
229     \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_l_b_s_p_a5f49537c70502b73f32038218a4f8371}{m\_bOnlyUsingAbsThreshold}})
230         \mbox{\hyperlink{_l_b_s_p_8cpp_abb90115b7341a5b5d8f5413b31618b79}{lbsp\_computeImpl}}(oImage,\mbox{\hyperlink{class_l_b_s_p_a8c5ccb37124c8fa457db0ba9dbe28c18}{m\_oRefImage}},voKeypoints,oDescriptors,
      \mbox{\hyperlink{class_l_b_s_p_aa1c90eb308a5ff277df09c4da186693a}{m\_nThreshold}});
231     \textcolor{keywordflow}{else}
232         \mbox{\hyperlink{_l_b_s_p_8cpp_abb90115b7341a5b5d8f5413b31618b79}{lbsp\_computeImpl}}(oImage,\mbox{\hyperlink{class_l_b_s_p_a8c5ccb37124c8fa457db0ba9dbe28c18}{m\_oRefImage}},voKeypoints,oDescriptors,
      \mbox{\hyperlink{class_l_b_s_p_a99fbb83c842782bb5621a43efb7580d5}{m\_fRelThreshold}},\mbox{\hyperlink{class_l_b_s_p_aa1c90eb308a5ff277df09c4da186693a}{m\_nThreshold}});
233 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=315pt]{class_l_b_s_p_a1a9b0613104169b3cdf567f7625c7fc4_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_l_b_s_p_a27a44cb6f6e3015ee26047bd3d84f892}\label{class_l_b_s_p_a27a44cb6f6e3015ee26047bd3d84f892}} 
\index{L\+B\+SP@{L\+B\+SP}!compute\+R\+G\+B\+Descriptor@{compute\+R\+G\+B\+Descriptor}}
\index{compute\+R\+G\+B\+Descriptor@{compute\+R\+G\+B\+Descriptor}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{compute\+R\+G\+B\+Descriptor()}{computeRGBDescriptor()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily static void L\+B\+S\+P\+::compute\+R\+G\+B\+Descriptor (\begin{DoxyParamCaption}\item[{const cv\+::\+Mat \&}]{o\+Input\+Img,  }\item[{const uchar $\ast$const}]{\+\_\+ref,  }\item[{const int}]{\+\_\+x,  }\item[{const int}]{\+\_\+y,  }\item[{const size\+\_\+t $\ast$const}]{\+\_\+t,  }\item[{ushort $\ast$}]{\+\_\+res }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



utility function, shortcut/lightweight/direct single-\/point \mbox{\hyperlink{class_l_b_s_p}{L\+B\+SP}} computation function for extra flexibility (3-\/channels version) 



Definition at line 61 of file L\+B\+S\+P.\+h.


\begin{DoxyCode}
61                                                                                                            
                                                           \{
62         CV\_DbgAssert(!oInputImg.empty());
63         CV\_DbgAssert(oInputImg.type()==CV\_8UC3);
64         CV\_DbgAssert(\mbox{\hyperlink{class_l_b_s_p_a11167130ddc713921e5bbb0b628d5f74}{LBSP::DESC\_SIZE}}==2); \textcolor{comment}{// @@@ also relies on a constant desc size}
65         CV\_DbgAssert(\_x>=(\textcolor{keywordtype}{int})\mbox{\hyperlink{class_l_b_s_p_aa98abb79a155d3a2b416c2ab32e74929}{LBSP::PATCH\_SIZE}}/2 && \_y>=(\textcolor{keywordtype}{int})
      \mbox{\hyperlink{class_l_b_s_p_aa98abb79a155d3a2b416c2ab32e74929}{LBSP::PATCH\_SIZE}}/2);
66         CV\_DbgAssert(\_x<oInputImg.cols-(\textcolor{keywordtype}{int})\mbox{\hyperlink{class_l_b_s_p_aa98abb79a155d3a2b416c2ab32e74929}{LBSP::PATCH\_SIZE}}/2 && \_y<oInputImg.rows-(\textcolor{keywordtype}{int})
      \mbox{\hyperlink{class_l_b_s_p_aa98abb79a155d3a2b416c2ab32e74929}{LBSP::PATCH\_SIZE}}/2);
67         \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \_step\_row = oInputImg.step.p[0];
68         \textcolor{keyword}{const} uchar* \textcolor{keyword}{const} \_data = oInputImg.data;
69 \textcolor{preprocessor}{        #include "LBSP\_16bits\_dbcross\_3ch3t.i"}
70     \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_l_b_s_p_a27a44cb6f6e3015ee26047bd3d84f892_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_l_b_s_p_a806e1de0fdf2a59acb9fa1303b62b102}\label{class_l_b_s_p_a806e1de0fdf2a59acb9fa1303b62b102}} 
\index{L\+B\+SP@{L\+B\+SP}!compute\+R\+G\+B\+Descriptor@{compute\+R\+G\+B\+Descriptor}}
\index{compute\+R\+G\+B\+Descriptor@{compute\+R\+G\+B\+Descriptor}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{compute\+R\+G\+B\+Descriptor()}{computeRGBDescriptor()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily static void L\+B\+S\+P\+::compute\+R\+G\+B\+Descriptor (\begin{DoxyParamCaption}\item[{const cv\+::\+Mat \&}]{o\+Input\+Img,  }\item[{const uchar $\ast$const}]{\+\_\+ref,  }\item[{const int}]{\+\_\+x,  }\item[{const int}]{\+\_\+y,  }\item[{const size\+\_\+t}]{\+\_\+t,  }\item[{ushort $\ast$}]{\+\_\+res }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



utility function, shortcut/lightweight/direct single-\/point \mbox{\hyperlink{class_l_b_s_p}{L\+B\+SP}} computation function for extra flexibility (3-\/channels version) 



Definition at line 73 of file L\+B\+S\+P.\+h.


\begin{DoxyCode}
73                                                                                                            
                                                    \{
74         CV\_DbgAssert(!oInputImg.empty());
75         CV\_DbgAssert(oInputImg.type()==CV\_8UC3);
76         CV\_DbgAssert(\mbox{\hyperlink{class_l_b_s_p_a11167130ddc713921e5bbb0b628d5f74}{LBSP::DESC\_SIZE}}==2); \textcolor{comment}{// @@@ also relies on a constant desc size}
77         CV\_DbgAssert(\_x>=(\textcolor{keywordtype}{int})\mbox{\hyperlink{class_l_b_s_p_aa98abb79a155d3a2b416c2ab32e74929}{LBSP::PATCH\_SIZE}}/2 && \_y>=(\textcolor{keywordtype}{int})
      \mbox{\hyperlink{class_l_b_s_p_aa98abb79a155d3a2b416c2ab32e74929}{LBSP::PATCH\_SIZE}}/2);
78         CV\_DbgAssert(\_x<oInputImg.cols-(\textcolor{keywordtype}{int})\mbox{\hyperlink{class_l_b_s_p_aa98abb79a155d3a2b416c2ab32e74929}{LBSP::PATCH\_SIZE}}/2 && \_y<oInputImg.rows-(\textcolor{keywordtype}{int})
      \mbox{\hyperlink{class_l_b_s_p_aa98abb79a155d3a2b416c2ab32e74929}{LBSP::PATCH\_SIZE}}/2);
79         \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \_step\_row = oInputImg.step.p[0];
80         \textcolor{keyword}{const} uchar* \textcolor{keyword}{const} \_data = oInputImg.data;
81 \textcolor{preprocessor}{        #include "LBSP\_16bits\_dbcross\_3ch1t.i"}
82     \}
\end{DoxyCode}
\mbox{\Hypertarget{class_l_b_s_p_a35f2abfacc0d540810d678ff5e8cd619}\label{class_l_b_s_p_a35f2abfacc0d540810d678ff5e8cd619}} 
\index{L\+B\+SP@{L\+B\+SP}!compute\+Single\+R\+G\+B\+Descriptor@{compute\+Single\+R\+G\+B\+Descriptor}}
\index{compute\+Single\+R\+G\+B\+Descriptor@{compute\+Single\+R\+G\+B\+Descriptor}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{compute\+Single\+R\+G\+B\+Descriptor()}{computeSingleRGBDescriptor()}}
{\footnotesize\ttfamily static void L\+B\+S\+P\+::compute\+Single\+R\+G\+B\+Descriptor (\begin{DoxyParamCaption}\item[{const cv\+::\+Mat \&}]{o\+Input\+Img,  }\item[{const uchar}]{\+\_\+ref,  }\item[{const int}]{\+\_\+x,  }\item[{const int}]{\+\_\+y,  }\item[{const size\+\_\+t}]{\+\_\+c,  }\item[{const size\+\_\+t}]{\+\_\+t,  }\item[{ushort \&}]{\+\_\+res }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



utility function, shortcut/lightweight/direct single-\/point \mbox{\hyperlink{class_l_b_s_p}{L\+B\+SP}} computation function for extra flexibility (1-\/channel-\/\+R\+GB version) 



Definition at line 85 of file L\+B\+S\+P.\+h.


\begin{DoxyCode}
85                                                                                                            
                                                                   \{
86         CV\_DbgAssert(!oInputImg.empty());
87         CV\_DbgAssert(oInputImg.type()==CV\_8UC3 && \_c<3);
88         CV\_DbgAssert(\mbox{\hyperlink{class_l_b_s_p_a11167130ddc713921e5bbb0b628d5f74}{LBSP::DESC\_SIZE}}==2); \textcolor{comment}{// @@@ also relies on a constant desc size}
89         CV\_DbgAssert(\_x>=(\textcolor{keywordtype}{int})\mbox{\hyperlink{class_l_b_s_p_aa98abb79a155d3a2b416c2ab32e74929}{LBSP::PATCH\_SIZE}}/2 && \_y>=(\textcolor{keywordtype}{int})
      \mbox{\hyperlink{class_l_b_s_p_aa98abb79a155d3a2b416c2ab32e74929}{LBSP::PATCH\_SIZE}}/2);
90         CV\_DbgAssert(\_x<oInputImg.cols-(\textcolor{keywordtype}{int})\mbox{\hyperlink{class_l_b_s_p_aa98abb79a155d3a2b416c2ab32e74929}{LBSP::PATCH\_SIZE}}/2 && \_y<oInputImg.rows-(\textcolor{keywordtype}{int})
      \mbox{\hyperlink{class_l_b_s_p_aa98abb79a155d3a2b416c2ab32e74929}{LBSP::PATCH\_SIZE}}/2);
91         \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \_step\_row = oInputImg.step.p[0];
92         \textcolor{keyword}{const} uchar* \textcolor{keyword}{const} \_data = oInputImg.data;
93 \textcolor{preprocessor}{        #include "LBSP\_16bits\_dbcross\_s3ch.i"}
94     \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_l_b_s_p_a35f2abfacc0d540810d678ff5e8cd619_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_l_b_s_p_afc7aa065fa562edd2b16b766910e7806}\label{class_l_b_s_p_afc7aa065fa562edd2b16b766910e7806}} 
\index{L\+B\+SP@{L\+B\+SP}!descriptor\+Size@{descriptor\+Size}}
\index{descriptor\+Size@{descriptor\+Size}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{descriptor\+Size()}{descriptorSize()}}
{\footnotesize\ttfamily int L\+B\+S\+P\+::descriptor\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



returns the current descriptor size, in bytes 



Definition at line 32 of file L\+B\+S\+P.\+cpp.


\begin{DoxyCode}
32                                \{
33     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_l_b_s_p_a11167130ddc713921e5bbb0b628d5f74}{DESC\_SIZE}};
34 \}
\end{DoxyCode}
\mbox{\Hypertarget{class_l_b_s_p_a36803a3126c171c945dcb35a1d43f421}\label{class_l_b_s_p_a36803a3126c171c945dcb35a1d43f421}} 
\index{L\+B\+SP@{L\+B\+SP}!descriptor\+Type@{descriptor\+Type}}
\index{descriptor\+Type@{descriptor\+Type}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{descriptor\+Type()}{descriptorType()}}
{\footnotesize\ttfamily int L\+B\+S\+P\+::descriptor\+Type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



returns the current descriptor data type 



Definition at line 36 of file L\+B\+S\+P.\+cpp.


\begin{DoxyCode}
36                                \{
37     \textcolor{keywordflow}{return} CV\_16U;
38 \}
\end{DoxyCode}
\mbox{\Hypertarget{class_l_b_s_p_a6412e6797415eaf34def8ec7a92dc7ab}\label{class_l_b_s_p_a6412e6797415eaf34def8ec7a92dc7ab}} 
\index{L\+B\+SP@{L\+B\+SP}!get\+Abs\+Threshold@{get\+Abs\+Threshold}}
\index{get\+Abs\+Threshold@{get\+Abs\+Threshold}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{get\+Abs\+Threshold()}{getAbsThreshold()}}
{\footnotesize\ttfamily size\+\_\+t L\+B\+S\+P\+::get\+Abs\+Threshold (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



returns the current absolute threshold used for comparisons (-\/1 = invalid/not used) 



Definition at line 48 of file L\+B\+S\+P.\+cpp.


\begin{DoxyCode}
48                                    \{
49     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_l_b_s_p_aa1c90eb308a5ff277df09c4da186693a}{m\_nThreshold}};
50 \}
\end{DoxyCode}
\mbox{\Hypertarget{class_l_b_s_p_acf999adf45d5e425d28b00ace6c928a4}\label{class_l_b_s_p_acf999adf45d5e425d28b00ace6c928a4}} 
\index{L\+B\+SP@{L\+B\+SP}!get\+Rel\+Threshold@{get\+Rel\+Threshold}}
\index{get\+Rel\+Threshold@{get\+Rel\+Threshold}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{get\+Rel\+Threshold()}{getRelThreshold()}}
{\footnotesize\ttfamily float L\+B\+S\+P\+::get\+Rel\+Threshold (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



returns the current relative threshold used for comparisons (-\/1 = invalid/not used) 



Definition at line 44 of file L\+B\+S\+P.\+cpp.


\begin{DoxyCode}
44                                   \{
45     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_l_b_s_p_a99fbb83c842782bb5621a43efb7580d5}{m\_fRelThreshold}};
46 \}
\end{DoxyCode}
\mbox{\Hypertarget{class_l_b_s_p_a1f75012723a8990ea7b9f74d3293dbe6}\label{class_l_b_s_p_a1f75012723a8990ea7b9f74d3293dbe6}} 
\index{L\+B\+SP@{L\+B\+SP}!is\+Using\+Rel\+Threshold@{is\+Using\+Rel\+Threshold}}
\index{is\+Using\+Rel\+Threshold@{is\+Using\+Rel\+Threshold}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{is\+Using\+Rel\+Threshold()}{isUsingRelThreshold()}}
{\footnotesize\ttfamily bool L\+B\+S\+P\+::is\+Using\+Rel\+Threshold (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



returns whether this extractor is using a relative threshold or not 



Definition at line 40 of file L\+B\+S\+P.\+cpp.


\begin{DoxyCode}
40                                      \{
41     \textcolor{keywordflow}{return} !\mbox{\hyperlink{class_l_b_s_p_a5f49537c70502b73f32038218a4f8371}{m\_bOnlyUsingAbsThreshold}};
42 \}
\end{DoxyCode}
\mbox{\Hypertarget{class_l_b_s_p_abd44c9e34e9a3b10ca1f08e32cc7f2fa}\label{class_l_b_s_p_abd44c9e34e9a3b10ca1f08e32cc7f2fa}} 
\index{L\+B\+SP@{L\+B\+SP}!read@{read}}
\index{read@{read}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{read()}{read()}}
{\footnotesize\ttfamily void L\+B\+S\+P\+::read (\begin{DoxyParamCaption}\item[{const cv\+::\+File\+Node \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



loads extractor params from the specified file node @@ not impl 



Definition at line 19 of file L\+B\+S\+P.\+cpp.


\begin{DoxyCode}
19                                    \{
20     \textcolor{comment}{// ... = fn["..."];}
21 \}
\end{DoxyCode}
\mbox{\Hypertarget{class_l_b_s_p_a555e2f241fbdac2ebb1eab31482f5f05}\label{class_l_b_s_p_a555e2f241fbdac2ebb1eab31482f5f05}} 
\index{L\+B\+SP@{L\+B\+SP}!reshape\+Desc@{reshape\+Desc}}
\index{reshape\+Desc@{reshape\+Desc}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{reshape\+Desc()}{reshapeDesc()}}
{\footnotesize\ttfamily void L\+B\+S\+P\+::reshape\+Desc (\begin{DoxyParamCaption}\item[{cv\+::\+Size}]{o\+Size,  }\item[{const std\+::vector$<$ cv\+::\+Key\+Point $>$ \&}]{vo\+Keypoints,  }\item[{const cv\+::\+Mat \&}]{o\+Descriptors,  }\item[{cv\+::\+Mat \&}]{o\+Output }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



utility function, used to reshape a descriptors matrix to its input image size via their keypoint locations 



Definition at line 235 of file L\+B\+S\+P.\+cpp.


\begin{DoxyCode}
235                                                                                                            
                   \{
236     CV\_DbgAssert(!voKeypoints.empty());
237     CV\_DbgAssert(!oDescriptors.empty() && oDescriptors.cols==1);
238     CV\_DbgAssert(oSize.width>0 && oSize.height>0);
239     CV\_DbgAssert(\mbox{\hyperlink{class_l_b_s_p_a11167130ddc713921e5bbb0b628d5f74}{DESC\_SIZE}}==2); \textcolor{comment}{// @@@ also relies on a constant desc size}
240     CV\_DbgAssert(oDescriptors.type()==CV\_16UC1 || oDescriptors.type()==CV\_16UC3);
241     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} nChannels = (size\_t)oDescriptors.channels();
242     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} nKeyPoints = voKeypoints.size();
243     \textcolor{keywordflow}{if}(nChannels==1) \{
244         oOutput.create(oSize,CV\_16UC1);
245         oOutput = cv::Scalar\_<ushort>(0);
246         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t} k=0; k<nKeyPoints; ++k)
247             oOutput.at<ushort>(voKeypoints[k].pt) = oDescriptors.at<ushort>((int)k);
248     \}
249     \textcolor{keywordflow}{else} \{ \textcolor{comment}{//nChannels==3}
250         oOutput.create(oSize,CV\_16UC3);
251         oOutput = cv::Scalar\_<ushort>(0,0,0);
252         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t} k=0; k<nKeyPoints; ++k) \{
253             ushort* output\_ptr = (ushort*)(oOutput.data + oOutput.step.p[0]*(\textcolor{keywordtype}{int})voKeypoints[k].pt.y);
254             \textcolor{keyword}{const} ushort* \textcolor{keyword}{const} desc\_ptr = (ushort*)(oDescriptors.data + oDescriptors.step.p[0]*k);
255             \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} idx = 3*(int)voKeypoints[k].\mbox{\hyperlink{rings_8cpp_af69bbacaaf68a115b351c5d1e29c3cc8}{pt}}.x;
256             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t} n=0; n<3; ++n)
257                 output\_ptr[idx+n] = desc\_ptr[n];
258         \}
259     \}
260 \}
\end{DoxyCode}
\mbox{\Hypertarget{class_l_b_s_p_a0d35c4022d72d62e90b44507f7a979bf}\label{class_l_b_s_p_a0d35c4022d72d62e90b44507f7a979bf}} 
\index{L\+B\+SP@{L\+B\+SP}!set\+Reference@{set\+Reference}}
\index{set\+Reference@{set\+Reference}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{set\+Reference()}{setReference()}}
{\footnotesize\ttfamily void L\+B\+S\+P\+::set\+Reference (\begin{DoxyParamCaption}\item[{const cv\+::\+Mat \&}]{img }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



sets the \textquotesingle{}reference\textquotesingle{} image to be used for inter-\/frame comparisons (note\+: if no image is set or if the image is empty, the algorithm will default back to intra-\/frame comparisons) 



Definition at line 27 of file L\+B\+S\+P.\+cpp.


\begin{DoxyCode}
27                                         \{
28     CV\_DbgAssert(img.empty() || img.type()==CV\_8UC1 || img.type()==CV\_8UC3);
29     \mbox{\hyperlink{class_l_b_s_p_a8c5ccb37124c8fa457db0ba9dbe28c18}{m\_oRefImage}} = img;
30 \}
\end{DoxyCode}
\mbox{\Hypertarget{class_l_b_s_p_ae5efff966783470187b0a7b7cde63469}\label{class_l_b_s_p_ae5efff966783470187b0a7b7cde63469}} 
\index{L\+B\+SP@{L\+B\+SP}!validate\+Key\+Points@{validate\+Key\+Points}}
\index{validate\+Key\+Points@{validate\+Key\+Points}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{validate\+Key\+Points()}{validateKeyPoints()}}
{\footnotesize\ttfamily void L\+B\+S\+P\+::validate\+Key\+Points (\begin{DoxyParamCaption}\item[{std\+::vector$<$ cv\+::\+Key\+Point $>$ \&}]{vo\+Keypoints,  }\item[{cv\+::\+Size}]{o\+Img\+Size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



utility function, used to filter out bad keypoints that would trigger out of bounds error because they\textquotesingle{}re too close to the image border 



Definition at line 307 of file L\+B\+S\+P.\+cpp.


\begin{DoxyCode}
307                                                                                 \{
308     cv::KeyPointsFilter::runByImageBorder(voKeypoints,oImgSize,\mbox{\hyperlink{class_l_b_s_p_aa98abb79a155d3a2b416c2ab32e74929}{PATCH\_SIZE}}/2);
309 \}
\end{DoxyCode}
\mbox{\Hypertarget{class_l_b_s_p_ad97557be4bc6cfd7b0fa4b01ab8f8c55}\label{class_l_b_s_p_ad97557be4bc6cfd7b0fa4b01ab8f8c55}} 
\index{L\+B\+SP@{L\+B\+SP}!validate\+R\+OI@{validate\+R\+OI}}
\index{validate\+R\+OI@{validate\+R\+OI}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{validate\+R\+O\+I()}{validateROI()}}
{\footnotesize\ttfamily void L\+B\+S\+P\+::validate\+R\+OI (\begin{DoxyParamCaption}\item[{cv\+::\+Mat \&}]{o\+R\+OI }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



utility function, used to filter out bad pixels in a R\+OI that would trigger out of bounds error because they\textquotesingle{}re too close to the image border 



Definition at line 311 of file L\+B\+S\+P.\+cpp.


\begin{DoxyCode}
311                                   \{
312     CV\_Assert(!oROI.empty() && oROI.type()==CV\_8UC1);
313     cv::Mat oROI\_new(oROI.size(),CV\_8UC1,cv::Scalar\_<uchar>(0));
314     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} nBorderSize = \mbox{\hyperlink{class_l_b_s_p_aa98abb79a155d3a2b416c2ab32e74929}{PATCH\_SIZE}}/2;
315     \textcolor{keyword}{const} cv::Rect nROI\_inner(nBorderSize,nBorderSize,oROI.cols-nBorderSize*2,oROI.rows-nBorderSize*2);
316     cv::Mat(oROI,nROI\_inner).copyTo(cv::Mat(oROI\_new,nROI\_inner));
317     oROI = oROI\_new;
318 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_l_b_s_p_ad97557be4bc6cfd7b0fa4b01ab8f8c55_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_l_b_s_p_a8a669d927653d7ba62c4097b306e0d5a}\label{class_l_b_s_p_a8a669d927653d7ba62c4097b306e0d5a}} 
\index{L\+B\+SP@{L\+B\+SP}!write@{write}}
\index{write@{write}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{write()}{write()}}
{\footnotesize\ttfamily void L\+B\+S\+P\+::write (\begin{DoxyParamCaption}\item[{cv\+::\+File\+Storage \&}]{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



writes extractor params to the specified file storage @@ not impl 



Definition at line 23 of file L\+B\+S\+P.\+cpp.


\begin{DoxyCode}
23                                        \{
24     \textcolor{comment}{//fs << "..." << ...;}
25 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{class_l_b_s_p_a11167130ddc713921e5bbb0b628d5f74}\label{class_l_b_s_p_a11167130ddc713921e5bbb0b628d5f74}} 
\index{L\+B\+SP@{L\+B\+SP}!D\+E\+S\+C\+\_\+\+S\+I\+ZE@{D\+E\+S\+C\+\_\+\+S\+I\+ZE}}
\index{D\+E\+S\+C\+\_\+\+S\+I\+ZE@{D\+E\+S\+C\+\_\+\+S\+I\+ZE}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{D\+E\+S\+C\+\_\+\+S\+I\+ZE}{DESC\_SIZE}}
{\footnotesize\ttfamily const size\+\_\+t L\+B\+S\+P\+::\+D\+E\+S\+C\+\_\+\+S\+I\+ZE = 2\hspace{0.3cm}{\ttfamily [static]}}



utility, specifies the number of bytes per descriptor (should be the same as calling \textquotesingle{}\mbox{\hyperlink{class_l_b_s_p_afc7aa065fa562edd2b16b766910e7806}{descriptor\+Size()}}\textquotesingle{}) 



Definition at line 107 of file L\+B\+S\+P.\+h.

\mbox{\Hypertarget{class_l_b_s_p_a5f49537c70502b73f32038218a4f8371}\label{class_l_b_s_p_a5f49537c70502b73f32038218a4f8371}} 
\index{L\+B\+SP@{L\+B\+SP}!m\+\_\+b\+Only\+Using\+Abs\+Threshold@{m\+\_\+b\+Only\+Using\+Abs\+Threshold}}
\index{m\+\_\+b\+Only\+Using\+Abs\+Threshold@{m\+\_\+b\+Only\+Using\+Abs\+Threshold}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{m\+\_\+b\+Only\+Using\+Abs\+Threshold}{m\_bOnlyUsingAbsThreshold}}
{\footnotesize\ttfamily const bool L\+B\+S\+P\+::m\+\_\+b\+Only\+Using\+Abs\+Threshold\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 113 of file L\+B\+S\+P.\+h.

\mbox{\Hypertarget{class_l_b_s_p_a99fbb83c842782bb5621a43efb7580d5}\label{class_l_b_s_p_a99fbb83c842782bb5621a43efb7580d5}} 
\index{L\+B\+SP@{L\+B\+SP}!m\+\_\+f\+Rel\+Threshold@{m\+\_\+f\+Rel\+Threshold}}
\index{m\+\_\+f\+Rel\+Threshold@{m\+\_\+f\+Rel\+Threshold}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{m\+\_\+f\+Rel\+Threshold}{m\_fRelThreshold}}
{\footnotesize\ttfamily const float L\+B\+S\+P\+::m\+\_\+f\+Rel\+Threshold\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 114 of file L\+B\+S\+P.\+h.

\mbox{\Hypertarget{class_l_b_s_p_aa1c90eb308a5ff277df09c4da186693a}\label{class_l_b_s_p_aa1c90eb308a5ff277df09c4da186693a}} 
\index{L\+B\+SP@{L\+B\+SP}!m\+\_\+n\+Threshold@{m\+\_\+n\+Threshold}}
\index{m\+\_\+n\+Threshold@{m\+\_\+n\+Threshold}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{m\+\_\+n\+Threshold}{m\_nThreshold}}
{\footnotesize\ttfamily const size\+\_\+t L\+B\+S\+P\+::m\+\_\+n\+Threshold\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 115 of file L\+B\+S\+P.\+h.

\mbox{\Hypertarget{class_l_b_s_p_a8c5ccb37124c8fa457db0ba9dbe28c18}\label{class_l_b_s_p_a8c5ccb37124c8fa457db0ba9dbe28c18}} 
\index{L\+B\+SP@{L\+B\+SP}!m\+\_\+o\+Ref\+Image@{m\+\_\+o\+Ref\+Image}}
\index{m\+\_\+o\+Ref\+Image@{m\+\_\+o\+Ref\+Image}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{m\+\_\+o\+Ref\+Image}{m\_oRefImage}}
{\footnotesize\ttfamily cv\+::\+Mat L\+B\+S\+P\+::m\+\_\+o\+Ref\+Image\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 116 of file L\+B\+S\+P.\+h.

\mbox{\Hypertarget{class_l_b_s_p_aa98abb79a155d3a2b416c2ab32e74929}\label{class_l_b_s_p_aa98abb79a155d3a2b416c2ab32e74929}} 
\index{L\+B\+SP@{L\+B\+SP}!P\+A\+T\+C\+H\+\_\+\+S\+I\+ZE@{P\+A\+T\+C\+H\+\_\+\+S\+I\+ZE}}
\index{P\+A\+T\+C\+H\+\_\+\+S\+I\+ZE@{P\+A\+T\+C\+H\+\_\+\+S\+I\+ZE}!L\+B\+SP@{L\+B\+SP}}
\subsubsection{\texorpdfstring{P\+A\+T\+C\+H\+\_\+\+S\+I\+ZE}{PATCH\_SIZE}}
{\footnotesize\ttfamily const size\+\_\+t L\+B\+S\+P\+::\+P\+A\+T\+C\+H\+\_\+\+S\+I\+ZE = 5\hspace{0.3cm}{\ttfamily [static]}}



utility, specifies the pixel size of the pattern used (width and height) 



Definition at line 105 of file L\+B\+S\+P.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
D\+:/\+Roy/\+Git\+Hub/\+Multitarget-\/tracker/\+Detector/\+Subsense/\mbox{\hyperlink{_l_b_s_p_8h}{L\+B\+S\+P.\+h}}\item 
D\+:/\+Roy/\+Git\+Hub/\+Multitarget-\/tracker/\+Detector/\+Subsense/\mbox{\hyperlink{_l_b_s_p_8cpp}{L\+B\+S\+P.\+cpp}}\end{DoxyCompactItemize}
