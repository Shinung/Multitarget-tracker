\hypertarget{class_local_tracker}{}\section{Local\+Tracker Class Reference}
\label{class_local_tracker}\index{Local\+Tracker@{Local\+Tracker}}


{\ttfamily \#include $<$Local\+Tracker.\+h$>$}



Collaboration diagram for Local\+Tracker\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=173pt]{class_local_tracker__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_local_tracker_a5b29d3a99a06b3efb3ef33b64965d217}{Local\+Tracker}} ()
\item 
\mbox{\hyperlink{class_local_tracker_acf04cd253573c578a96292ba0af0dc94}{$\sim$\+Local\+Tracker}} (void)
\item 
void \mbox{\hyperlink{class_local_tracker_a7fad09ebaf507de2a400ec17ec96fa56}{Update}} (\mbox{\hyperlink{track_8h_aaa9881295be74ce8bd6990b9aafaf788}{tracks\+\_\+t}} \&tracks, cv\+::\+U\+Mat prev\+Frame, cv\+::\+U\+Mat curr\+Frame)
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 8 of file Local\+Tracker.\+h.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_local_tracker_a5b29d3a99a06b3efb3ef33b64965d217}\label{class_local_tracker_a5b29d3a99a06b3efb3ef33b64965d217}} 
\index{Local\+Tracker@{Local\+Tracker}!Local\+Tracker@{Local\+Tracker}}
\index{Local\+Tracker@{Local\+Tracker}!Local\+Tracker@{Local\+Tracker}}
\subsubsection{\texorpdfstring{Local\+Tracker()}{LocalTracker()}}
{\footnotesize\ttfamily Local\+Tracker\+::\+Local\+Tracker (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 6 of file Local\+Tracker.\+cpp.


\begin{DoxyCode}
7 \{
8 \}
\end{DoxyCode}
\mbox{\Hypertarget{class_local_tracker_acf04cd253573c578a96292ba0af0dc94}\label{class_local_tracker_acf04cd253573c578a96292ba0af0dc94}} 
\index{Local\+Tracker@{Local\+Tracker}!````~Local\+Tracker@{$\sim$\+Local\+Tracker}}
\index{````~Local\+Tracker@{$\sim$\+Local\+Tracker}!Local\+Tracker@{Local\+Tracker}}
\subsubsection{\texorpdfstring{$\sim$\+Local\+Tracker()}{~LocalTracker()}}
{\footnotesize\ttfamily Local\+Tracker\+::$\sim$\+Local\+Tracker (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line 13 of file Local\+Tracker.\+cpp.


\begin{DoxyCode}
14 \{
15 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_local_tracker_a7fad09ebaf507de2a400ec17ec96fa56}\label{class_local_tracker_a7fad09ebaf507de2a400ec17ec96fa56}} 
\index{Local\+Tracker@{Local\+Tracker}!Update@{Update}}
\index{Update@{Update}!Local\+Tracker@{Local\+Tracker}}
\subsubsection{\texorpdfstring{Update()}{Update()}}
{\footnotesize\ttfamily void Local\+Tracker\+::\+Update (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{track_8h_aaa9881295be74ce8bd6990b9aafaf788}{tracks\+\_\+t}} \&}]{tracks,  }\item[{cv\+::\+U\+Mat}]{prev\+Frame,  }\item[{cv\+::\+U\+Mat}]{curr\+Frame }\end{DoxyParamCaption})}



Definition at line 20 of file Local\+Tracker.\+cpp.


\begin{DoxyCode}
25 \{
26     std::vector<cv::Point2f> points[2];
27 
28     points[0].reserve(8 * tracks.size());
29     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}& track : tracks)
30     \{
31         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& \mbox{\hyperlink{rings_8cpp_af69bbacaaf68a115b351c5d1e29c3cc8}{pt}} : track->m\_lastRegion.m\_points)
32         \{
33             points[0].push\_back(\mbox{\hyperlink{rings_8cpp_af69bbacaaf68a115b351c5d1e29c3cc8}{pt}});
34         \}
35     \}
36     \textcolor{keywordflow}{if} (points[0].empty())
37     \{
38         \textcolor{keywordflow}{return};
39     \}
40 
41     cv::TermCriteria termcrit(cv::TermCriteria::COUNT | cv::TermCriteria::EPS, 30, 0.01);
42     cv::Size subPixWinSize(3, 3);
43     cv::Size winSize(21, 21);
44 
45     cv::cornerSubPix(prevFrame, points[0], subPixWinSize, cv::Size(-1,-1), termcrit);
46 
47     std::vector<uchar> status;
48     std::vector<float> err;
49 
50     cv::calcOpticalFlowPyrLK(prevFrame, currFrame, points[0], points[1], status, err, winSize, 3, termcrit,
       0, 0.001);
51 
52     \textcolor{keywordtype}{size\_t} i = 0;
53     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}& track : tracks)
54     \{
55         track->m\_averagePoint = \mbox{\hyperlink{defines_8h_a8c42696da8f098b91374a8e8bb84b430}{Point\_t}}(0, 0);
56         track->m\_boundidgRect = cv::Rect(0, 0, 0, 0);
57 
58         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} it = track->m\_lastRegion.m\_points.begin(); it != track->m\_lastRegion.m\_points.end();)
59         \{
60             \textcolor{keywordflow}{if} (status[i])
61             \{
62                 *it = points[1][i];
63                 track->m\_averagePoint += *it;
64 
65                 ++it;
66             \}
67             \textcolor{keywordflow}{else}
68             \{
69                 it = track->m\_lastRegion.m\_points.erase(it);
70             \}
71 
72             ++i;
73         \}
74 
75         \textcolor{keywordflow}{if} (!track->m\_lastRegion.m\_points.empty())
76         \{
77             track->m\_averagePoint /= \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{defines_8h_a7ce9c8817b42ab418e61756f579549ab}{track\_t}}\textcolor{keyword}{>}(track->m\_lastRegion.m\_points.size());
78 
79             cv::Rect br = cv::boundingRect(track->m\_lastRegion.m\_points);
80 \textcolor{preprocessor}{#if 0}
81             br.x -= subPixWinSize.width;
82             br.width += 2 * subPixWinSize.width;
83             \textcolor{keywordflow}{if} (br.x < 0)
84             \{
85                 br.width += br.x;
86                 br.x = 0;
87             \}
88             \textcolor{keywordflow}{if} (br.x + br.width >= currFrame.cols)
89             \{
90                 br.x = currFrame.cols - br.width - 1;
91             \}
92 
93             br.y -= subPixWinSize.height;
94             br.height += 2 * subPixWinSize.height;
95             \textcolor{keywordflow}{if} (br.y < 0)
96             \{
97                 br.height += br.y;
98                 br.y = 0;
99             \}
100             \textcolor{keywordflow}{if} (br.y + br.height >= currFrame.rows)
101             \{
102                 br.y = currFrame.rows - br.height - 1;
103             \}
104 \textcolor{preprocessor}{#endif}
105             track->m\_boundidgRect = br;
106         \}
107     \}
108 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_local_tracker_a7fad09ebaf507de2a400ec17ec96fa56_icgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
D\+:/\+Roy/\+Git\+Hub/\+Multitarget-\/tracker/\+Tracker/\mbox{\hyperlink{_local_tracker_8h}{Local\+Tracker.\+h}}\item 
D\+:/\+Roy/\+Git\+Hub/\+Multitarget-\/tracker/\+Tracker/\mbox{\hyperlink{_local_tracker_8cpp}{Local\+Tracker.\+cpp}}\end{DoxyCompactItemize}
